{"version":3,"sources":["find-logo.jpg","africa-cdc-logo.png","bd-logo.png","dashboard.png","sections/facility.js","sections/inputs.js","sections/index.js","helperFunctions.js","AssessmentSection.js","Results.js","ResultsTable.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","fac_q_1","id","text","standards","tags","weight","recs","resources","type","subType","multipart","multiText","subQs","fac_sec_1","dataSource","children","fac_q_2","title","link","fac_sec_2","fac_q_3_preface","fac_sec_2b","fac_q_4_preface","fac_sec_3","questions","q_1_1","inp_sec_1","q_3_1","denominator","q_3_2","q_3_3","q_3_4","q_3_5","q_3_6","q_3_7","q_3_8","q_3_9","q_4_1","q_4_2","q_4_3","q_4_4","q_4_5","q_4_6","q_4_7","q_4_8","q_4_9","q_4_10","q_4_11","q_4_12","q_5_1","q_5_2","q_5_3","q_5_4","q_5_5","q_5_6","q_5_7","q_5_8","q_5_9","q_5_10","q_5_11","q_5_12","q_5_13","q_5_14","q_5_15","q_5_16","q_5_17","q_5_18","q_5_19","q_5_20","q_5_21","q_5_22","sectionsMap","facility","instructions","facilityQuestions","inputs","requiresSetup","targets","sectionId","sectionName","sectionTargets","results","question","target","recommendations","numerator","departments","name","targetInstructions","departmentInstructions","getTargetId","targetSectionId","targetId","getTableCellId","department","AssessmentSection","props","state","contents","selectedDepts","begun","warnings","toggleSubQs","bind","selectDept","removeDept","begin","processElement","getSection","getQTable","qs","this","section","generateQuestions","targetData","map","el","setState","sectionObj","sendMap","className","sect","i","key","getDeptSelection","getTargetSetting","getStartButton","getPreface","expectedValue","push","getQuestionBox","getQuestionYN","getQuestionPerc","console","error","content","_","Card","Header","Accordion","Toggle","as","Button","variant","eventKey","Collapse","Body","extract","every","q","startsWith","upperCornerText","extractedText","Table","striped","bordered","responsive","d","displayText","slice","length","t","trClass","uid","Form","Control","min","Check","label","custom","Label","childEl","max","e","show","endsWith","document","querySelector","classList","toggle","onChange","Group","inline","item","deptsSelected","targetsComplete","tSection","value","val","Number","validTarget","isNaN","warningText","join","onClick","submit","options","placeholder","avoidHighlightFirstOption","showCheckbox","closeOnSelect","closeIcon","selectionLimit","onSelect","onRemove","displayValue","idx","defaultValue","showContents","defaultKey","defaultActiveKey","getInstructions","getSubmitButton","React","Component","Results","eldest","get","indicatorText","indicator","somethingRight","answeredCorrectly","somethingWrong","links","isUndefined","forEach","p","warn","pRecs","eRecs","fulfilled","isFulfilled","getPriorityCell","getRecsCell","getLinksCell","r","log","replace","pointNumber","formatPoint","l","href","processedQs","getSectionTable","proceed","ResultsTable","nearThreshhold","updateThreshhold","rSection","depts","keys","dStr","find","getResultRow","result","targetValue","actualPerc","responseData","responseValue","dep","getResponseCell","isTotal","isPerc","perfClass","nearCutoff","isNil","Math","round","classes","threshhold","resultSections","getLegend","App","activeTab","submitted","inputsResults","setActiveTab","correctAnswerGiven","processMultipartQs","inputSectionObj","inputResultSections","responses","rSect","answered","yeses","each","resp","totalNum","totalDenom","numV","dept","perc","denomV","set","src","findLogo","cdcLogo","bdLogo","dashboard","facilityTitle","inputsTitle","Tabs","activeKey","Tab","getLandingTab","getFacilityTab","getInputsTab","disabled","getDashboardTab","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"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","file":"static/js/main.7538bb14.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/find-logo.58ca34be.jpg\";","module.exports = __webpack_public_path__ + \"static/media/africa-cdc-logo.1fd126e6.png\";","module.exports = __webpack_public_path__ + \"static/media/bd-logo.2ff30b5d.png\";","module.exports = __webpack_public_path__ + \"static/media/dashboard.9dc434fb.png\";","// section and preface may have children, q may have subQs\nconst types = ['q', 'section', 'preface'];\nconst subTypes = ['box', 'y_n'];\n\nconst title = 'Clinical Facility Level';\n\nconst instructions = [\n  'Please complete the following, from the \"Technical Scorecard: Laboratory Clinical Interface AMR Scorecard\", Section 1 in C. Clinical Site Assessment and click “Submit Assessment Section”, when complete.',\n  'The corresponding data sources are indicated in the subsection headers for reference. The relevant AMR standards are indicated after each question in parentheses.'\n];\n\n// const questions = [{\n//   id: 'fac_sec_1',\n//   text: 'Oversight Committee',\n//   dataSource: '[LC1.1]',\n//   type: 'section',\n//   children: [{\n//     id: 'fac_q_1',\n//     text: 'Does the clinical facility have an oversight committee?',\n//     standards: 'F1, U1, B1',\n//     tags: [],\n//     weight: 1,\n//     recs: [],\n//     resources: [],\n//     type: 'q',\n//     subType: 'y_n',\n//     // expectedValue: true,\n//     // revealIf: true,\n//     multipart: true,\n//     multiText: 'The clinical facility have an oversight committee that revises treatment guidelines and medicines formulary and/or stewardship practices based on cumulative AST antibiograms, pharmacy antibiotic usage data and the outcomes from stewardship ward rounds.',\n//     subQs: [{\n//         id:'fac_q_1_sub_preface', text:'Does the committee:', type:'preface'\n//       },{\n//         id:'fac_q_1_c1', type:'q', subType:'box',\n//         text:'Develop/revise treatment guidelines',\n//         recs:['Establish committee and develop Terms of Reference (ToR)'],\n//       },{\n//         id:'fac_q_1_c2', type:'q', subType:'box',\n//         text:'Use cumulative AST data to inform guidelines',\n//         recs:['Within committee, develop standard process to use cumulative AST data to inform guidelines '],\n//       },{\n//         id:'fac_q_1_c3', type:'q', subType:'box',\n//         text:'Review antibiotic consumption data',\n//         recs:['Within committee, develop standard process to collect and review AMS data from ward rounds '],\n//       },{\n//         id:'fac_q_1_c4', type:'q', subType:'box',\n//         text:'Review data from AMS rounds',\n//         recs:['Within committee, develop standard process to collect and review AMS data from ward rounds '],\n//       },\n//     ]},\n//   ],\n// },\n\n// {\n//   id: 'fac_sec_2',\n//   text: 'Lab Handbook',\n//   dataSource: '[LC1.2 - 1.4]',\n//   type: 'section',\n//   children: [{\n//     id: 'fac_q_2',\n//     text: 'Does the clinical facility have a “Laboratory Handbook” which describes specimen collection, storage, and transportation of samples?',\n//     standards: 'F2, U2, B2',\n//     tags: [],\n//     weight: 1,\n//     recs: [],\n//     resources: [],\n//     type: 'q',\n//     subType: 'y_n',\n//     multipart: true,\n//     multiText: 'A “Laboratory Handbook” available to clinical staff which describes specimen collection, storage, and transportation of samples, and meets all requirements.',\n//     subQs: [{\n//       id:'fac_q_2_sub_preface', text:'Does the handbook state:', type:'preface'\n//     },{\n//       id:'fac_q_2_c1', type:'q', subType:'box', tags:['f','u','b'], standards: 'F4, U4, B4',\n//       text: `Informed consent should be obtained before collection of faeces, urine or blood for culture`,\n//       recs: ['Include the requirement for obtaining informed consent prior to faeces, urine or blood collection']\n//     },{\n//       id:'fac_q_2_c2', type:'q', subType:'box', tags:['u','b'], standards: 'F5',\n//       text: `Urine and blood should be collected before administration of antibiotics `,\n//       recs: ['Include the requirement for collecting faeces using aseptic technique']\n//     },{\n//       id:'fac_q_2_c3', type:'q', subType:'box', tags:['f'], standards: 'U5, B5',\n//       text: `Faeces should be collected using aseptic technique `,\n//       recs: ['Include the requirement for urine or blood to be collected before administration of antibiotics']\n//     },{\n//       id:'fac_q_2_c4', type:'q', subType:'box', tags:['f'], standards: 'F6',\n//       text: `Minimum of 1g of faeces should be collected for faeces culture`,\n//       recs: ['Include the requirement for collecting a minimum of 1g of faeces']\n//     },{\n//       id:'fac_q_2_c5', type:'q', subType:'box', tags:['u'], standards: 'U8',\n//       text: `A minimum of 3 mL urine should be collected for urine culture`,\n//       recs: ['Include the requirement for a minimum of 3ml blood collection']\n//     },{\n//       id:'fac_q_2_c6', type:'q', subType:'box', tags:['b'], standards: 'B6',\n//       text: `Handwashing should be performed prior to performing blood collection for culture`,\n//       recs: ['Include the requirement for handwashing by clinician before performing blood collection']\n//     },{\n//       id:'fac_q_2_c7', type:'q', subType:'box', tags:['b'], standards: 'B7',\n//       text: `Hands should be disinfected prior to performing a blood culture`,\n//       recs: ['Include the requirement for disinfecting of hands prior to performing blood culture']\n//     },{\n//       id:'fac_q_2_c8', type:'q', subType:'box', tags:['b'], standards: 'B8',\n//       text: `Sterile gloves should be used when performing a blood culture`,\n//       recs: ['Include the requirement for using sterile gloves when performing blood culture']\n//     },{\n//       id:'fac_q_2_c9', type:'q', subType:'box', tags:['b'], standards: 'B9',\n//       text: `Blood cultures should be drawn from peripheral sites`,\n//       recs: ['Include the requirement for blood to be drawn from peripheral sites']\n//     },{\n//       id:'fac_q_2_c10', type:'q', subType:'box', tags:['b'], standards: 'B10',\n//       text: `Serial blood cultures should be collected from separate venipuncture sites`,\n//       recs: ['Include the requirement for blood collection from separate venipuncture sites']\n//     },{\n//       id:'fac_q_2_c11', type:'q', subType:'box', tags:['b'], standards: 'B11',\n//       text: `Puncture site should be cleaned properly as per manufacturer recommended technique and using appropriate disinfectant`,\n//       recs: ['Include the requirement cleaning puncture site with appropriate disinfentant']\n//     },{\n//       id:'fac_q_2_c12', type:'q', subType:'box', tags:['b'], standards: 'B14',\n//       text: `Bottle-top should be disinfected and disinfectant should be allowed to dry prior to inoculation`,\n//       recs: ['Include the requirement for bottle-top disinfectant to be dry prior to inoculation']\n//     },{\n//       id:'fac_q_2_c13', type:'q', subType:'box', tags:['b'], standards: 'B15',\n//       text: `Needles should not be exchanged between blood culture collection and inoculation of blood culture bottles`,\n//       recs: ['Include the requirement to not allow needles to be exchanged between blood collection and inoculation of blood culture bottles']\n//     },{\n//       id:'fac_q_2_c14', type:'q', subType:'box', tags:['b'], standards: 'B17',\n//       text: `Minimum of 2 and maximum of 3 Blood cultures should be drawn within 24 hours`,\n//       recs: ['Include the requirement for 2 to 3 blood cultures drawn within 24 hours']\n//     },{\n//       id:'fac_q_2_c15', type:'q', subType:'box', tags:['b'], standards: 'B19',\n//       text: `The volume of blood collected should follow the manufacturer's recommendations: typically 10mL per bottle for adults, 1-3 mL per bottle for children`,\n//       recs: ['Include the requirement for following the manufacturer\\'s recommendations for volume of blood collected']\n//     },{\n//       id:'fac_q_2_sub_preface_d', type:'preface', text:'Are collection containers correctly labelled for:'\n//     },{\n//       id:'fac_q_2_d1', type:'q', subType:'box', tags:['f'], standards: 'F7',\n//       text: `Faeces`\n//     },{\n//       id:'fac_q_2_d2', type:'q', subType:'box', tags:['b'], standards: 'B20',\n//       text: `Blood`\n//     },{\n//       id:'fac_q_2_d3', type:'q', subType:'box', tags:['u'], standards: 'U9',\n//       text: `Urine`\n//     },{\n//       id:'fac_q_2_sub_preface_e', type:'preface', text:'Are samples delivered to the laboratory as soon as possible and within the recommended time periods for:'\n//     },{\n//       id:'fac_q_2_e1', type:'q', subType:'box', tags:['f'], standards: 'F11',\n//       text: `Faeces`\n//     },{\n//       id:'fac_q_2_e2', type:'q', subType:'box', tags:['b'], standards: 'B24',\n//       text: `Blood`\n//     },{\n//       id:'fac_q_2_e3', type:'q', subType:'box', tags:['u'], standards: 'U16',\n//       text: `Urine`\n//     }]\n//   },{\n//     id:'fac_q_3_preface', type:'preface',\n//     text:'Do the facility treatment guidelines include the following requirements:',\n//     children: [{\n//       id: 'fac_q_3a',\n//       text: 'To do faecal culture if there is dysentery, suspicion of a public health threat / outbreak or if there are associated signs of systemic infection?',\n//       standards: 'F3',\n//       tags: ['f'],\n//       weight: 1,\n//       recs: [],\n//       resources: [],\n//       type: 'q',\n//       subType: 'y_n'\n//     },{\n//       id: 'fac_q_3b',\n//       text: 'To do urine culture if there are clinical indications such as suspected urinary tract infection; systemic sepsis without a clear focus or asymptomatic bacteriuria in pregnancy?',\n//       standards: 'U3',\n//       tags: ['u'],\n//       weight: 1,\n//       recs: [],\n//       resources: [],\n//       type: 'q',\n//       subType: 'y_n'\n//     },{\n//       id: 'fac_q_3c',\n//       text: 'To do blood culture with clinical suspicion of blood stream infection?',\n//       standards: 'B3',\n//       tags: ['b'],\n//       weight: 1,\n//       recs: [],\n//       resources: [],\n//       type: 'q',\n//       subType: 'y_n'\n//     }]\n//   }],\n// },\n\n// {\n//   id: 'fac_sec_3',\n//   text: 'Lab Request form',\n//   dataSource: '[LC1.5]',\n//   type: 'section',\n//   children: [{\n//     id:'fac_q_4_preface', type:'preface', standards: 'F8, U10, B21',\n//     text:'Does the laboratory request form include:'\n//   },{\n//     id:'fac_q_4a', type:'q', subType:'box',\n//     text: `Patient identifiers`\n//   },{\n//     id:'fac_q_4b', type:'q', subType:'box',\n//     text: `Site name`\n//   },{\n//     id:'fac_q_4c', type:'q', subType:'box',\n//     text: `Date of admission`\n//   },{\n//     id:'fac_q_4d', type:'q', subType:'box',\n//     text: `Date & time of collection`\n//   },{\n//     id:'fac_q_4e', type:'q', subType:'box',\n//     text: `Clinical information regarding suspected diagnosis`\n//   },{\n//     id:'fac_q_4f', type:'q', subType:'box',\n//     text: `Contact details of requesting doctor`\n//   }],\n// }];\n\nconst fac_q_1_sub_preface = {\n  id:'fac_q_1_sub_preface', text:'Does the committee:', type:'preface'\n}\nconst fac_q_1_c1 = {\n  id:'fac_q_1_c1', type:'q', subType:'box',\n  text:'Develop/revise treatment guidelines',\n  recs:['Establish committee and develop Terms of Reference (ToR)'],\n}\nconst fac_q_1_c2 = {\n  id:'fac_q_1_c2', type:'q', subType:'box',\n  text:'Use cumulative AST data to inform guidelines',\n  recs:['Within committee, develop standard process to use cumulative AST data to inform guidelines '],\n}\nconst fac_q_1_c3 = {\n  id:'fac_q_1_c3', type:'q', subType:'box',\n  text:'Review antibiotic consumption data',\n  recs:['Within committee, develop standard process to collect and review AMS data from ward rounds '],\n}\nconst fac_q_1_c4 = {\n  id:'fac_q_1_c4', type:'q', subType:'box',\n  text:'Review data from AMS rounds',\n  recs:['Within committee, develop standard process to collect and review AMS data from ward rounds '],\n}\nconst fac_q_1 = {\n  id: 'fac_q_1',\n  text: 'Does the clinical facility have an oversight committee?',\n  standards: 'F1, U1, B1',\n  tags: [],\n  weight: 1,\n  recs: ['Establish committee and develop Terms of Reference (ToR)'],\n  resources: [],\n  type: 'q',\n  subType: 'y_n',\n  // expectedValue: true,\n  // revealIf: true,\n  multipart: true,\n  multiText: 'The clinical facility has an oversight committee that revises treatment guidelines and medicines formulary and/or stewardship practices based on cumulative AST antibiograms, pharmacy antibiotic usage data and the outcomes from stewardship ward rounds.',\n  subQs: [fac_q_1_sub_preface,fac_q_1_c1,fac_q_1_c2,fac_q_1_c3,fac_q_1_c4]\n}\nconst fac_sec_1 = {\n  id: 'fac_sec_1',\n  text: 'Oversight Committee',\n  dataSource: '[LC1.1]',\n  type: 'section',\n  children: [fac_q_1]\n}\n\n// -----------------------------------------------------------------------\n\nconst fac_q_2_sub_preface = {\n  id:'fac_q_2_sub_preface', text:'Does the handbook state:', type:'preface'\n}\nconst fac_q_2_c1 = {\n  id:'fac_q_2_c1', type:'q', subType:'box', tags:['f','u','b'], standards: 'F4, U4, B4',\n  text: `Informed consent should be obtained before collection of faeces, urine or blood for culture`,\n  recs: ['Include the requirement for obtaining informed consent prior to faeces, urine or blood collection']\n}\nconst fac_q_2_c2 = {\n  id:'fac_q_2_c2', type:'q', subType:'box', tags:['u','b'], standards: 'F5',\n  text: `Urine and blood should be collected before administration of antibiotics `,\n  recs: ['Include the requirement for collecting faeces using aseptic technique']\n}\nconst fac_q_2_c3 = {\n  id:'fac_q_2_c3', type:'q', subType:'box', tags:['f'], standards: 'U5, B5',\n  text: `Faeces should be collected using aseptic technique `,\n  recs: ['Include the requirement for urine or blood to be collected before administration of antibiotics']\n}\nconst fac_q_2_c4 = {\n  id:'fac_q_2_c4', type:'q', subType:'box', tags:['f'], standards: 'F6',\n  text: `Minimum of 1g of faeces should be collected for faeces culture`,\n  recs: ['Include the requirement for collecting a minimum of 1g of faeces']\n}\nconst fac_q_2_c5 = {\n  id:'fac_q_2_c5', type:'q', subType:'box', tags:['u'], standards: 'U8',\n  text: `A minimum of 3 mL urine should be collected for urine culture`,\n  recs: ['Include the requirement for a minimum of 3ml blood collection']\n}\nconst fac_q_2_c6 = {\n  id:'fac_q_2_c6', type:'q', subType:'box', tags:['b'], standards: 'B6',\n  text: `Handwashing should be performed prior to performing blood collection for culture`,\n  recs: ['Include the requirement for handwashing by clinician before performing blood collection']\n}\nconst fac_q_2_c7 = {\n  id:'fac_q_2_c7', type:'q', subType:'box', tags:['b'], standards: 'B7',\n  text: `Hands should be disinfected prior to performing a blood culture`,\n  recs: ['Include the requirement for disinfecting of hands prior to performing blood culture']\n}\nconst fac_q_2_c8 = {\n  id:'fac_q_2_c8', type:'q', subType:'box', tags:['b'], standards: 'B8',\n  text: `Sterile gloves should be used when performing a blood culture`,\n  recs: ['Include the requirement for using sterile gloves when performing blood culture']\n}\nconst fac_q_2_c9 = {\n  id:'fac_q_2_c9', type:'q', subType:'box', tags:['b'], standards: 'B9',\n  text: `Blood cultures should be drawn from peripheral sites`,\n  recs: ['Include the requirement for blood to be drawn from peripheral sites']\n}\nconst fac_q_2_c10 = {\n  id:'fac_q_2_c10', type:'q', subType:'box', tags:['b'], standards: 'B10',\n  text: `Serial blood cultures should be collected from separate venipuncture sites`,\n  recs: ['Include the requirement for blood collection from separate venipuncture sites']\n}\nconst fac_q_2_c11 = {\n  id:'fac_q_2_c11', type:'q', subType:'box', tags:['b'], standards: 'B11',\n  text: `Puncture site should be cleaned properly as per manufacturer recommended technique and using appropriate disinfectant`,\n  recs: ['Include the requirement cleaning puncture site with appropriate disinfentant']\n}\nconst fac_q_2_c12 = {\n  id:'fac_q_2_c12', type:'q', subType:'box', tags:['b'], standards: 'B14',\n  text: `Bottle-top should be disinfected and disinfectant should be allowed to dry prior to inoculation`,\n  recs: ['Include the requirement for bottle-top disinfectant to be dry prior to inoculation']\n}\nconst fac_q_2_c13 = {\n  id:'fac_q_2_c13', type:'q', subType:'box', tags:['b'], standards: 'B15',\n  text: `Needles should not be exchanged between blood culture collection and inoculation of blood culture bottles`,\n  recs: ['Include the requirement to not allow needles to be exchanged between blood collection and inoculation of blood culture bottles']\n}\nconst fac_q_2_c14 = {\n  id:'fac_q_2_c14', type:'q', subType:'box', tags:['b'], standards: 'B17',\n  text: `Minimum of 2 and maximum of 3 Blood cultures should be drawn within 24 hours`,\n  recs: ['Include the requirement for 2 to 3 blood cultures drawn within 24 hours']\n}\nconst fac_q_2_c15 = {\n  id:'fac_q_2_c15', type:'q', subType:'box', tags:['b'], standards: 'B19',\n  text: `The volume of blood collected should follow the manufacturer's recommendations: typically 10mL per bottle for adults, 1-3 mL per bottle for children`,\n  recs: ['Include the requirement for following the manufacturer\\'s recommendations for volume of blood collected']\n}\nconst fac_q_2 = {\n  id: 'fac_q_2',\n  text: 'Does the clinical facility have a “Laboratory Handbook” which describes specimen collection, storage, and transportation of samples?',\n  standards: 'F2, U2, B2',\n  tags: [],\n  weight: 1,\n  recs: ['Make Laboratory Handbook available in the facility, inclusive of guidance on all AMR standards'],\n  resources: [\n    {\n      title: 'NHLS Laboratory Handbook',\n      link: 'https://drive.google.com/file/d/1E8WrlSW0smDgWjvhcVLSEsib17KyrBkk/view?usp=sharing'\n    }\n  ],\n  type: 'q',\n  subType: 'y_n',\n  multipart: true,\n  multiText: 'A “Laboratory Handbook” is available to clinical staff which describes specimen collection, storage, and transportation of samples, and meets all requirements.',\n  subQs: [fac_q_2_sub_preface,fac_q_2_c1,fac_q_2_c2,fac_q_2_c3,fac_q_2_c4,fac_q_2_c5,fac_q_2_c6,fac_q_2_c7,fac_q_2_c8,fac_q_2_c9,fac_q_2_c10,fac_q_2_c11,fac_q_2_c12,fac_q_2_c13,fac_q_2_c14,fac_q_2_c15]\n}\n// collection containers / sample deliveries?\nconst fac_sec_2 = {\n  id: 'fac_sec_2',\n  text: 'Lab Handbook',\n  dataSource: '[LC1.2]',\n  type: 'section',\n  children: [fac_q_2]\n}\n\n// -----------------------------------------------------------------------\n\nconst fac_q_3a = {\n  id: 'fac_q_3a',\n  text: 'To do faecal culture if there is dysentery, suspicion of a public health threat / outbreak or if there are associated signs of systemic infection?',\n  recs: ['Add to guidelines to do faecal culture if there is dysentery, suspicion of a public health threat / outbreak or if there are associated signs of systemic infection'],\n  standards: 'F3',\n  tags: ['f'],\n  weight: 1,\n  resources: [],\n  type: 'q',\n  subType: 'y_n'\n}\nconst fac_q_3b = {\n  id: 'fac_q_3b',\n  text: 'To do urine culture if there are clinical indications such as suspected urinary tract infection; systemic sepsis without a clear focus or asymptomatic bacteriuria in pregnancy?',\n  recs: ['Add to guidelines to do urine culture if there are clinical indications such as suspected urinary tract infection; systemic sepsis without a clear focus or asymptomatic bacteriuria in pregnancy'],\n  standards: 'U3',\n  tags: ['u'],\n  weight: 1,\n  resources: [],\n  type: 'q',\n  subType: 'y_n'\n}\nconst fac_q_3c = {\n  id: 'fac_q_3c',\n  text: 'To do blood culture with clinical suspicion of blood stream infection?',\n  recs: ['Add to guidelines to do blood culture with clinical suspicion of blood stream infection'],\n  standards: 'B3',\n  tags: ['b'],\n  weight: 1,\n  resources: [],\n  type: 'q',\n  subType: 'y_n'\n}\nconst fac_q_3_preface = {\n  id:'fac_q_3_preface', type:'preface',\n  standards: 'F3, U3, B3',\n  text:'Do the facility treatment guidelines include the following requirements:',\n  multipart: true,\n  multiText: 'The facility treatment guidelines include the correct requirements',\n  children: [fac_q_3a,fac_q_3b,fac_q_3c]\n}\nconst fac_sec_2b = {\n  id: 'fac_sec_2b',\n  text: 'Treatment Guidelines',\n  dataSource: '[LC1.3 - 1.5]',\n  type: 'section',\n  children: [fac_q_3_preface]\n}\n\n// -----------------------------------------------------------------------\n\n\nconst fac_q_4a = {\n  id:'fac_q_4a', type:'q', subType:'box',\n  text: `Patient identifiers`,\n  recs: [`Add patient identifiers`]\n}\nconst fac_q_4b = {\n  id:'fac_q_4b', type:'q', subType:'box',\n  text: `Site name`,\n  recs: [`Add site name`]\n}\nconst fac_q_4c = {\n  id:'fac_q_4c', type:'q', subType:'box',\n  text: `Date of admission`,\n  recs: [`Add date of admission`]\n}\nconst fac_q_4d = {\n  id:'fac_q_4d', type:'q', subType:'box',\n  text: `Date & time of collection`,\n  recs: [`Add date & time of collection`]\n}\nconst fac_q_4e = {\n  id:'fac_q_4e', type:'q', subType:'box',\n  text: `Clinical information regarding suspected diagnosis`,\n  recs: [`Add clinical information regarding suspected diagnosis`]\n}\nconst fac_q_4f = {\n  id:'fac_q_4f', type:'q', subType:'box',\n  text: `Contact details of requesting doctor`,\n  recs: [`Add contact details of requesting doctor`]\n}\nconst fac_q_4_preface = {\n  id:'fac_q_4_preface', type:'preface', standards: 'F8, U10, B21',\n  text:'Does the laboratory request form include:',\n  resources: [\n    {\n      title: 'SLMTA Toolkit (English). 7 - Specimen collection and processing',\n      link: 'https://slmta.org/tool-kit/'\n    }\n  ],\n  multipart: true,\n  multiText: 'The laboratory request form includes the correct fields.',\n  children: [fac_q_4a,fac_q_4b,fac_q_4c,fac_q_4d,fac_q_4e,fac_q_4f]\n}\nconst fac_sec_3 = {\n  id: 'fac_sec_3',\n  text: 'Lab Request Form',\n  dataSource: '[LC1.5]',\n  type: 'section',\n  children: [fac_q_4_preface]\n}\n\nconst questions = [\n  fac_sec_1,\n  fac_sec_2,\n  fac_sec_2b,\n  fac_sec_3,\n]\n\n\nconst results = [\n\n]\n\nexport { title, instructions, questions }\n","// section and preface may have children, q may have subQs\nconst types = ['q', 'section', 'preface'];\nconst subTypes = [\n  'box', 'y_n', '%', // for qs\n  'table' // for sections\n];\n\nconst title = 'Clinical Facility, by Department';\n\nconst instructions = [\n  'For each Department selected, collect and input the data for the indicators under each assessment subsection below. Please click on each subsection to expand the data inputs required.',\n  'For your information, data inputs that act as denominators (totals) are bolded.'\n];\nconst departmentInstructions = [\n  'This section assess indicators relevant to the clinical facility, by department level. Before beginning, please select a minimum of 1 and up to 8 relevant departments at the clinical facility of assessment.'\n];\nconst targetInstructions = [\n  'For the following clinical facility indicator categories, please select a target that is appropriate for the clinical facility. Default targets are set based on best practice, but can be changed. '\n];\n\nconst departments = [\n  { id: 'medi', name: 'Medical' },\n  { id: 'gene', name: 'General Surgery' },\n  { id: 'pedi', name: 'Pediatrics' },\n  { id: 'inte', name: 'Intensive Care Unit (Adult)' },\n  { id: 'obst', name: 'Obstetrics / Gynaecology' },\n  { id: 'emer', name: 'Emergency / Trauma' },\n  { id: 'neon', name: 'Neonatal Intensive Care Unit' },\n  { id: 'orth', name: 'Orthopeadics' },\n  { id: 'cardi', name: 'Cardiology' },\n  { id: 'pedi', name: 'Pediatric Intensive Care Unit' },\n  { id: 'neur', name: 'Neurology' },\n  { id: 'onco', name: 'Oncology' },\n  { id: 'burn', name: 'Burn Unit' },\n  { id: 'gast', name: 'Gastroenterology' },\n  { id: 'neph', name: 'Nephrology / Urology' },\n];\n\nconst targets = [\n  { sectionId: 'documentation', sectionName: 'Indicator: Documentation, Policies & Structures', sectionTargets: [\n    { id: 'guidelines', text: \"Percentage of departments that should have a copy of the current treatment guidelines\" },\n    // { id: 'handbook', text: \"Percentage of departments that should have a copy of the current Laboratory Handbook\" },\n    // { id: 'monitor', text: \"Percentage of departments that actively monitor test results for patterns suggestive of nosocomial outbreaks or hospital acquired infections\" },\n    // { id: 'nosocomial', text: \"Percentage of departments that engage the laboratory if there is suggestive of nosocomial outbreaks or hospital acquired infections?\" },\n    // { id: 'meet', text: \"Percentage of departments that have clinical staff and laboratory staff regularly meet (at least quarterly) to troubleshoot gaps in laboratory-clinical linkages, including specimen collection, referral, interpretation and reporting?\" },\n  ]},\n\n  { sectionId: 'collection-all', sectionName: 'Indicator: Sample Collection (All)', sectionTargets: [\n    { id: 'informed', text: \"Percentage of patients for whom sample collection and informed consent was obtained and documented in the clinical notes\" },\n    { id: 'significant', text: \"Percentage of patients for whom a clinically significant sample was collected\" },\n    { id: 'aseptic', text: \"Percentage of patients from whom the sample was collected using aseptic and correct technique\" },\n    { id: 'antibiotics', text: \"Percentage of patients for culture whose sample was collected prior to administration of antibiotics\" },\n    { id: 'minimum', text: \"Percentage of patients for whom the minimum sample volume was collected\" },\n    { id: 'labelled', text: \"Percentage of patients with correctly labelled sample collection containers\" },\n    { id: 'form', text: \"Percentage of patients with completely and accurately completed lab request form\" },\n  ]},\n\n  { sectionId: 'collection-blood', sectionName: 'Indicator: Sample Collection (Blood only)', sectionTargets: [\n    { id: 'washed', text: \"Percentage of patients for whom clinician taking blood sample washed hands prior to procedure\" },\n    { id: 'disinfected', text: \"Percentage of patients for whom clinician taking blood sample disinfected hands prior to procedure\" },\n    { id: 'sterile', text: \"Percentage of patients for whom clinician taking blood sample used sterile gloves for procedure\" },\n    { id: 'peripheral', text: \"Percentage of patients from whom blood was drawn from peripheral sites for blood culture\" },\n    { id: 'venipuncture', text: \"Percentage of patients for whom blood cultures were drawn from separate venipuncture sites\" },\n    { id: 'cleaned', text: \"Percentage of patients for whom puncture site was cleaned using appropriate disinfectant\" },\n    { id: 'site-dry', text: \"Percentage of patients for whom puncture site was disinfected allowed time to dry before inserting needle\" },\n    { id: 'tops-disinfected', text: \"Percentage of patients for whom the blood culture bottle tops were disinfected prior to inoculation\" },\n    { id: 'tops-dry', text: \"Percentage of patients for whom the blood culture bottle tops allowed to dry prior to inoculation\" },\n    { id: 'needles', text: \"Percentage of patients whom needles were not exchanged between blood culture collection and inoculation of blood culture bottles\" },\n    { id: 'first', text: \"Percentage of patients whom had blood culture bottles inoculated first, if blood is collected for other tests\" },\n    { id: 'drawn', text: \"Percentage of patients whom had a minimum of 2 and maximum of 3 blood cultures drawn within 24 hours\" },\n    { id: 'aerobic', text: \"Percentage of patients patients whom had an aerobic blood culture in a resource-limited setting\" },\n    { id: 'volume', text: \"Percentageof patients whom had blood collection where the volume followed the manufacturer's recommendations: typically 10mL per bottle for adults, 1-3 mL per bottle for children\" },\n  ]},\n\n  // { sectionId: 'turnaround', sectionName: 'Indicator: Turnaround time (TAT) of sample sent to lab', sectionTargets: [\n  //   { id: 'faeces', text: \"Turnaround time from faeces sample collection to receipt at lab (in hours)\" },\n  //   { id: 'urine', text: \"Turnaround time from urine sample collection to receipt at lab  (in hours)\" },\n  //   { id: 'blood', text: \"Turnaround time from blood sample collection to receipt at lab  (in hours)\" },\n  //   { id: 'transported', text: \"Percentage of samples transported to lab within target TAT\" },\n  //   { id: 'sent', text: \"Percentage of clinical staff that are aware of the target times for sample sent to the lab\" },\n  //   { id: 'store', text: \"Percentage of clinical staff that are aware of how to store a sample if there is a delay in transporting it to the lab\" },\n  //   { id: 'fridge', text: \"Percentage of departments that have a designated fridge for storage of samples\" },\n  // ]},\n\n  // { sectionId: 'result-use', sectionName: 'Indicator: Use Test Result', sectionTargets: [\n  //   { id: 'folder', text: \"Percentage of patients whose records were reviewed where there is evidence that laboratory test results are placed in the patient folder\" },\n  //   { id: 'communicated', text: \"Percentage of patients that critical call out test results from the lab were communicated promptly to the clinician/wards and documented\" },\n  //   { id: 'revised', text: \"Percentage of patients where there is evidence that antibiotic treatment is revised based on the laboratory AST result\" },\n  //   { id: 'guidelines', text: \"Proportion of patients where antibiotic treatment followed the clinical site prescriber guidelines for common medical conditions\" },\n  //   { id: 'formulary', text: \"Proportion of patients where there is evidence that antibiotic treatment is consistent with medices formulary \" },\n  //   { id: 'engage', text: \"Percentage of wards or department that engage the laboratory if there is suggestive of nosocomial outbreaks or hospital acquired infections\" },\n  //   { id: 'meet', text: \"Percentage of wards or departments where clinical staff and laboratory staff meet at least quarterly\" },\n  // ]},\n];\n\n// QUESTIONS\n\nconst q_1_1 = {\n  id: 'q_1_1',\n  text: 'Is a copy of the current treatment guidelines available in this department?',\n  type: 'q',\n  subType: 'y_n',\n  standards: 'F1, U1, B1',\n  dataSource: '[LC2.1]'\n};\nconst q_1_2 = {\n  id: 'q_1_2',\n  text: 'Is there evidence that the ward or department actively monitors test results for patterns suggestive of nosocomial outbreaks or hospital acquired infections?',\n  type: 'q',\n  subType: 'y_n',\n  standards: 'F17, U19, B30',\n  dataSource: '[LC2.2]'\n};\nconst q_1_3 = {\n  id: 'q_1_3',\n  text: 'Does the ward or department engage the laboratory if there is suggestive of nosocomial outbreaks or hospital acquired infections?',\n  type: 'q',\n  subType: 'y_n',\n  standards: 'F17, U19, B30',\n  dataSource: '[LC2.2]'\n};\nconst q_1_4 = {\n  id: 'q_1_4',\n  text: 'Do the ward or department clinical staff and laboratory staff regularly meet (at least quarterly) to troubleshoot gaps in laboratory-clinical linkages, including specimen collection, referral, interpretation and reporting?',\n  type: 'q',\n  subType: 'y_n',\n  standards: 'F17, U19, B30',\n  dataSource: '[LC2.2]'\n};\nconst inp_sec_1 = {\n  id: 'fac_sec_1',\n  text: 'Department Documents, Policies & Structures',\n  type: 'section',\n  subType: 'table',\n  children: [q_1_1] // not needed for now, q_1_2, q_1_3, q_1_4]\n};\n\n\nconst q_2_1 = {\n  id: 'q_2_1',\n  text: 'Is a “Laboratory Handbook” which describes specimen collection, storage, and transportation of samples available to clinical staff in the ward or department?',\n  type: 'q',\n  subType: 'y_n',\n  standards: 'F2, U2, B2',\n};\nconst q_2_2 = {\n  id: 'q_2_2',\n  text: 'Are clinical staff aware of the target time to transfer samples (all specimen types) to the lab?',\n  type: 'q',\n  subType: 'y_n',\n  standards: 'F11, U13',\n};\nconst q_2_3 = {\n  id: 'q_2_3',\n  text: 'Are clinical staff aware of the need to store faeces and urine samples in fridge if there is a delay?',\n  type: 'q',\n  subType: 'y_n',\n  standards: 'F10, U12',\n};\nconst q_2_4 = {\n  id: 'q_2_4',\n  text: 'Is there designated fridge storage space for samples in the department/ward?',\n  type: 'q',\n  subType: 'y_n',\n  standards: 'F10, U12',\n};\nconst q_2_5 = {\n  id: 'q_2_5',\n  text: 'Are clinical staff aware of the need to store blood samples at room temperature if there is a delay?',\n  type: 'q',\n  subType: 'y_n',\n  standards: 'B23',\n};\nconst inp_sec_2 = {\n  id: 'fac_sec_2',\n  text: 'Sample Requisition, collection, transport & storage',\n  type: 'section',\n  subType: 'table',\n  children: [q_2_1, q_2_2, q_2_3, q_2_4, q_2_5]\n};\n\n\nconst q_3_1 = {\n  id: 'q_3_1',\n  denominator: true,\n  text: 'Number of patients with dysentery whose records were reviewed',\n  type: 'q',\n  subType: '%',\n  standards: 'F3'\n};\nconst q_3_2 = {\n  id: 'q_3_2',\n  text: 'Number of patients reviewed who had faecal culture ordered',\n  type: 'q',\n  subType: '%',\n  standards: 'F3',\n};\nconst q_3_3 = {\n  id: 'q_3_3',\n  denominator: true,\n  text: 'Number of patients for whom faecal sample collection procedure was witnessed',\n  type: 'q',\n  subType: '%',\n  standards: 'F4-F9'\n};\nconst q_3_4 = {\n  id: 'q_3_4',\n  text: 'Number of patients for whom informed consent was obtained and documented in the clinical notes before performing faeces culture',\n  type: 'q',\n  subType: '%',\n  standards: 'F4'\n};\nconst q_3_5 = {\n  id: 'q_3_5',\n  text: 'Number of patients from whom faeces were collected using aseptic technique',\n  type: 'q',\n  subType: '%',\n  standards: 'F5'\n};\nconst q_3_6 = {\n  id: 'q_3_6',\n  text: 'Number of patients for whom a minimum of 1g of feaces was collected for faeces culture',\n  type: 'q',\n  subType: '%',\n  standards: 'F6'\n};\nconst q_3_7 = {\n  id: 'q_3_7',\n  text: 'Number of patients for whom the faeces collection containers are correctly labelled including at least: patient identifiers, site, date and time of collection',\n  type: 'q',\n  subType: '%',\n  standards: 'F7'\n};\n const q_3_8 = {\n   id: 'q_3_8',\n   text: 'Number of patients for whom the lab request form was filled out completely and accurately, including at least: patient identifiers, site, date and time of collection, clinical information regarding suspected diagnosis, and contact details of requesting doctor',\n   type: 'q',\n   subType: '%',\n   standards: 'F8'\n };\nconst q_3_9 = {\n  id: 'q_3_9',\n  text: 'Number of patients for whom faeces collection is documented in the clinical notes',\n  type: 'q',\n  subType: '%',\n  standards: 'F9'\n};\nconst q_3_10 = {\n  id: 'q_3_10',\n  text: 'Number of patients for faeces culture whose records were reviewed',\n  type: 'q',\n  subType: '%',\n  standards: 'F14, F16'\n};\nconst q_3_11  = {\n  id: 'q_3_11',\n  text: 'Number of patients for faeces culture whose records were reviewed where there is evidence that laboratory test results are placed in the patient folder',\n  type: 'q',\n  subType: '%',\n  standards: 'F14'\n};\nconst q_3_12  = {\n  id: 'q_3_12',\n  text: 'Number of patients for faeces that critical call outs regarding patients test results received from lab are promptly communicated to the clinician/wards and documented',\n  type: 'q',\n  subType: '%',\n  standards: 'F16'\n};\nconst q_3_13  = {\n  id: 'q_3_13',\n  text: 'Number of patients for faeces culture whose records were reviewed there is evidence that antibiotic treatment is revised based on the laboratory AST result',\n  type: 'q',\n  subType: '%',\n  standards: 'F16'\n};\nconst q_3_14  = {\n  id: 'q_3_14',\n  text: 'Number of patients for faeces culture whose records were reviewed and there is evidence that antibiotic treatment followed the clinical site prescriber guidelines for common medical conditions',\n  type: 'q',\n  subType: '%',\n  standards: 'F16'\n};\nconst q_3_15  = {\n  id: 'q_3_15',\n  text: 'Number of patients for faeces culture whose records were reviewed and there is evidence that antibiotic treatment is consistent with medices formulary',\n  type: 'q',\n  subType: '%',\n  standards: 'F16'\n};\nconst inp_sec_3 = {\n  id: 'fac_sec_3',\n  text: 'Faeces Culture',\n  type: 'section',\n  subType: 'table',\n  children: [q_3_1, q_3_2, q_3_3, q_3_4, q_3_5, q_3_6, q_3_7, q_3_8, q_3_9] \n  // not needed for now, q_3_10, q_3_11, q_3_12, q_3_13, q_3_14, q_3_15]\n};\n\nconst q_4_1 = {\n  id: 'q_4_1',\n  denominator: true,\n  type: 'q',\n  subType: '%',\n  standards: 'U3',\n  text: 'Number of patients with urinary tract infection whose records were reviewed'\n};\nconst q_4_2 = {\n  id: 'q_4_2',\n  type: 'q',\n  subType: '%',\n  standards: 'U3',\n  text: 'Number of patients reviewed who had urine culture ordered '\n};\nconst q_4_3 = {\n  id: 'q_4_3',\n  denominator: true,\n  type: 'q',\n  subType: '%',\n  standards: 'U5-11',\n  text: 'Number of patients for whom urine sample collection procedure was witnessed'\n};\nconst q_4_4 = {\n  id: 'q_4_4',\n  type: 'q',\n  subType: '%',\n  standards: 'U4',\n  text: 'Number of patients for whom informed consent was obtained and documented in the clinical notes before performing urine culture'\n};\nconst q_4_5 = {\n  id: 'q_4_5',\n  type: 'q',\n  subType: '%',\n  standards: 'U5',\n  text: 'Number of patients for whom urine was collected before administration of antibiotics'\n};\nconst q_4_6 = {\n  id: 'q_4_6',\n  type: 'q',\n  subType: '%',\n  standards: 'U6',\n  text: 'Number of patients advised by clinical staff on the correct procedure for mid-stream urine collection '\n};\nconst q_4_7 = {\n  id: 'q_4_7',\n  type: 'q',\n  subType: '%',\n  standards: 'U7',\n  text: 'Number of patients reviewed for whom suprapubic urine samples were collected for culture'\n};\nconst q_4_8 = {\n  id: 'q_4_8',\n  type: 'q',\n  subType: '%',\n  standards: 'U7',\n  text: 'Number of patients from whom suprapubic urine samples were collected using aseptic technique'\n};\nconst q_4_9 = {\n  id: 'q_4_9',\n  type: 'q',\n  subType: '%',\n  standards: 'U8',\n  text: 'Number of patients for whom a minimum of 3ml of urine was collected for culture'\n};\nconst q_4_10 = {\n  id: 'q_4_10',\n  type: 'q',\n  subType: '%',\n  standards: 'U9',\n  text: 'Number of patients for whom urine collection containers are correctly labelled including at least: patient identifiers, site, date and time of collection'\n};\nconst q_4_11 = {\n  id: 'q_4_11',\n  type: 'q',\n  subType: '%',\n  standards: 'U10',\n  text: 'Number of patients for whom the lab request form was filled out completely and accurately, including at least: patient identifiers, site, date and time of collection, clinical information regarding suspected diagnosis, and contact details of requesting doctor'\n};\nconst q_4_12 = {\n  id: 'q_4_12',\n  type: 'q',\n  subType: '%',\n  standards: 'U11',\n  text: 'Number of patients for whom urine collection is documented in the clinical notes'\n};\nconst q_4_13 = {\n  id: 'q_4_13',\n  type: 'q',\n  subType: '%',\n  standards: 'U16/U18',\n  text: 'Number of patients for urine culture whose records were reviewed '\n};\nconst q_4_14 = {\n  id: 'q_4_14',\n  type: 'q',\n  subType: '%',\n  standards: 'U16',\n  text: 'Number of patients for urine culture whose records were reviewed where there is evidence that laboratory test results are placed in the patient folder'\n};\nconst q_4_15 = {\n  id: 'q_4_15',\n  type: 'q',\n  subType: '%',\n  standards: 'U16',\n  text: 'Number of patients for urine that critical call outs regarding patients test results received from lab are promptly communicated to the clinician/wards and documented'\n};\nconst q_4_16 = {\n  id: 'q_4_16',\n  type: 'q',\n  subType: '%',\n  standards: 'U18',\n  text: 'Number of patients for urine culture whose records were reviewed there is evidence that antibiotic treatment is revised based on the laboratory AST result'\n};\nconst q_4_17 = {\n  id: 'q_4_17',\n  type: 'q',\n  subType: '%',\n  standards: 'U18',\n  text: 'Number of patients for urine culture whose records were reviewed and there is evidence that antibiotic treatment followed the clinical site prescriber guidelines for common medical conditions'\n};\nconst q_4_18 = {\n  id: 'q_4_18',\n  type: 'q',\n  subType: '%',\n  standards: 'U18',\n  text: 'Number of patients for urine culture whose records were reviewed and there is evidence that antibiotic treatment is consistent with medices formulary '\n};\n\nconst inp_sec_4 = {\n  id: 'fac_sec_4',\n  text: 'Urine Culture',\n  type: 'section',\n  subType: 'table',\n  children: [q_4_1, q_4_2, q_4_3, q_4_4, q_4_5, q_4_6, q_4_7, q_4_8, q_4_9, q_4_10, q_4_11, q_4_12, q_4_13] \n  // not needed for now, q_4_14, q_4_15, q_4_16, q_4_17, q_4_18]\n};\n\n\nconst q_5_1 = {\n  id: 'q_5_1',\n  denominator: true,\n  type: 'q',\n  subType: '%',\n  standards: 'B3',\n  text: 'Number of patients with bloodstream infection whose records were reviewed'\n};\nconst q_5_2 = {\n  id: 'q_5_2',\n  type: 'q',\n  subType: '%',\n  standards: 'B3',\n  text: 'Number of patients reviewed who had blood culture ordered '\n};\nconst q_5_3 = {\n  id: 'q_5_3',\n  denominator: true,\n  type: 'q',\n  subType: '%',\n  standards: 'B4-B22',\n  text: 'Number of patients for whom blood culture sample collection procedure was witnessed'\n};\nconst q_5_4 = {\n  id: 'q_5_4',\n  type: 'q',\n  subType: '%',\n  standards: 'B4',\n  text: 'Number of patients for whom informed consent was obtained and documented in the clinical notes before performing blood culture'\n};\nconst q_5_5 = {\n  id: 'q_5_5',\n  type: 'q',\n  subType: '%',\n  standards: 'B5',\n  text: 'Number of patients for whom blood for culture was taken prior to administration of antibiotics'\n};\nconst q_5_6 = {\n  id: 'q_5_6',\n  type: 'q',\n  subType: '%',\n  standards: 'B6',\n  text: 'Number of patients for whom clinician taking blood sample washed hands prior to procedure'\n};\nconst q_5_7 = {\n  id: 'q_5_7',\n  type: 'q',\n  subType: '%',\n  standards: 'B7',\n  text: 'Number of patients for whom clinician taking blood sample disinfected hands prior to procedure'\n};\nconst q_5_8 = {\n  id: 'q_5_8',\n  type: 'q',\n  subType: '%',\n  standards: 'B8',\n  text: 'Number of patients for whom clinician taking blood sample used sterile gloves for procedure'\n};\nconst q_5_9 = {\n  id: 'q_5_9',\n  type: 'q',\n  subType: '%',\n  standards: 'B9',\n  text: 'Number of patients from whom blood was drawn from peripheral sites for blood culture'\n};\nconst q_5_10 = {\n  id: 'q_5_10',\n  type: 'q',\n  subType: '%',\n  standards: 'B10',\n  text: 'Number of patients for whom blood cultures were drawn from separate venipuncture sites'\n};\nconst q_5_11 = {\n  id: 'q_5_11',\n  type: 'q',\n  subType: '%',\n  standards: 'B11',\n  text: 'Number of patients for whom puncture site was cleaned using appropriate disinfectant'\n};\nconst q_5_12 = {\n  id: 'q_5_12',\n  type: 'q',\n  subType: '%',\n  standards: 'B12',\n  text: 'Number of patients for whom puncture site was disinfected allowed time to dry before inserting needle'\n};\nconst q_5_13 = {\n  id: 'q_5_13',\n  type: 'q',\n  subType: '%',\n  standards: 'B13',\n  text: 'Number of patients for whom the blood culture bottle tops were disinfected prior to inoculation'\n};\nconst q_5_14 = {\n  id: 'q_5_14',\n  type: 'q',\n  subType: '%',\n  standards: 'B14',\n  text: 'Number of patients for whom the blood culture bottle tops were allowed to dry prior to inoculation'\n};\nconst q_5_15 = {\n  id: 'q_5_15',\n  type: 'q',\n  subType: '%',\n  standards: 'B15',\n  text: 'Number of patients whom had needles exchanged between blood culture collection and inoculation of blood culture bottles'\n};\nconst q_5_16 = {\n  id: 'q_5_16',\n  type: 'q',\n  subType: '%',\n  standards: 'B16',\n  text: 'Number of patients whom had blood culture bottles inoculated first, if blood is collected for other tests'\n};\nconst q_5_17 = {\n  id: 'q_5_17',\n  type: 'q',\n  subType: '%',\n  standards: 'B17',\n  text: 'Number of patients whom had a minimum of 2 and maximum of 3 blood cultures drawn within 24 hours'\n};\nconst q_5_18 = {\n  id: 'q_5_18',\n  type: 'q',\n  subType: '%',\n  standards: 'B18',\n  text: 'Number of patients whom had an aerobic blood culture in a resource-limited setting'\n};\nconst q_5_19 = {\n  id: 'q_5_19',\n  type: 'q',\n  subType: '%',\n  standards: 'B19',\n  text: 'Number of patients whom had blood collection where the volume followed the manufacturer\\'s recommendations: typically 10mL per bottle for adults, 1-3 mL per bottle for children'\n};\nconst q_5_20 = {\n  id: 'q_5_20',\n  type: 'q',\n  subType: '%',\n  standards: 'B20',\n  text: 'Number of patients for whom blood culture bottles are correctly including at least: patient identifiers, site, date and time of collection'\n};\nconst q_5_21 = {\n  id: 'q_5_21',\n  type: 'q',\n  subType: '%',\n  standards: 'B21',\n  text: 'Number of patients for whom the lab request form was filled out completely and accurately, including at least: patient identifiers, site, date and time of collection, clinical information regarding suspected diagnosis, and contact details of requesting doctor'\n};\nconst q_5_22 = {\n  id: 'q_5_22',\n  type: 'q',\n  subType: '%',\n  standards: 'B22',\n  text: 'Number of patients for whom blood collection is documented in the clinical notes'\n};\nconst q_5_23 = {\n  id: 'q_5_23',\n  type: 'q',\n  subType: '%',\n  standards: 'B27/B29',\n  text: 'Number of patients for blood culture whose records were reviewed '\n};\nconst q_5_24 = {\n  id: 'q_5_24',\n  type: 'q',\n  subType: '%',\n  standards: 'B27',\n  text: 'Number of patients for blood culture whose records were reviewed where there is evidence that laboratory test results are placed in the patient folder'\n};\nconst q_5_25 = {\n  id: 'q_5_25',\n  type: 'q',\n  subType: '%',\n  standards: 'B27',\n  text: 'Number of patients for blood culture that critical call outs regarding patients test results received from lab are promptly communicated to the clinician/wards and documented'\n};\nconst q_5_26 = {\n  id: 'q_5_26',\n  type: 'q',\n  subType: '%',\n  standards: 'B29',\n  text: 'Number of patients for blood culture whose records were reviewed there is evidence that antibiotic treatment is revised based on the laboratory AST result'\n};\nconst q_5_27 = {\n  id: 'q_5_27',\n  type: 'q',\n  subType: '%',\n  standards: 'B29',\n  text: 'Number of patients for blood culture whose records were reviewed and there is evidence that antibiotic treatment followed the clinical site prescriber guidelines for common medical conditions'\n};\nconst q_5_28 = {\n  id: 'q_5_28',\n  type: 'q',\n  subType: '%',\n  standards: 'B29',\n  text: 'Number of patients for blood culture whose records were reviewed and there is evidence that antibiotic treatment is consistent with medices formulary '\n};\n\nconst inp_sec_5 = {\n  id: 'fac_sec_5',\n  text: 'Blood Culture',\n  type: 'section',\n  subType: 'table',\n  children: [q_5_1, q_5_2, q_5_3, q_5_4, q_5_5, q_5_6, q_5_7, q_5_8, q_5_9, q_5_10, q_5_11, q_5_12, q_5_13, q_5_14, q_5_15, q_5_16, q_5_17, q_5_18, q_5_19, q_5_20, q_5_21, q_5_22]\n  // not needed for now, q_5_23, q_5_24, q_5_25, q_5_26, q_5_27, q_5_28]\n};\n\nconst questions = [\n  inp_sec_1,\n  // inp_sec_2, not needed for now\n  inp_sec_3,\n  inp_sec_4,\n  inp_sec_5\n];\n\n\n// RESULTS\n\nconst r_1_1 = {\n  text: 'Percentage of departments that should have a copy of the current treatment guidelines',\n  question: q_1_1,\n  target: { sectionId: 'documentation', id: 'guidelines' },\n  standards: 'F1, U1, B1',\n  resources: [],\n  recommendations: [\n    'Distribute treatment guidelines to departments with none currently available'\n  ]\n}\nconst r_1_2 = {\n  text: 'Proportion of patients with dysentery, suspicion of a public health threat / outbreak or if there are associated signs of systemic infection who had faecal culture ordered',\n  numerator: q_3_2,\n  denominator: q_3_1,\n  target: { sectionId: 'collection-all', id: 'significant' },\n  standards: 'F3',\n  resources: [\n    {\n      title: 'Faecal culture methodology',\n      link: 'https://drive.google.com/drive/folders/1Y2LqvJ374uNHXtIXvyNhLpet9s8SKnol?usp=sharing'\n    },\n    {\n      title: 'Laboratory Diagnosis of Bacterial Gastroenteritis',\n      link: 'https://drive.google.com/drive/folders/1Y2LqvJ374uNHXtIXvyNhLpet9s8SKnol?usp=sharing'\n    },\n  ],\n  recommendations: [\n    '[1] Conduct clinician training on use of faecal culture to diagnose diahorreal disease',\n    '[2] Ensure uninterrupted supplies and reagents available to conduct faecal culture testing',\n    '[3] Ensure efficient systems for sample collection and transport to lab',\n    '[4] Consider official training visits for facilities with <60% compliance',\n    '[5] Consider clinical audits for facilites with <40% compliance',\n  ]\n}\nconst r_1_3 = {\n  text: 'Proportion of patients with clinical indications such as suspected urinary tract infection; systemic sepsis without a clear focus or asymptomatic bacteriuria in pregnancy who had urine culture ordered',\n  numerator: q_4_2,\n  denominator: q_4_1,\n  target: { sectionId: 'collection-all', id: 'significant' },\n  standards: 'U3',\n  resources: [\n    {\n      title: 'Primary Culture Media for Routine Urine Processing',\n      link: 'https://drive.google.com/drive/folders/1Y2LqvJ374uNHXtIXvyNhLpet9s8SKnol?usp=sharing'\n    },\n  ],\n  recommendations: [\n    '[1] Conduct clinician training on use of urine culture to diagnose urinary tract infection',\n    '[2] Ensure uninterrupted supplies and reagents available to conduct faecal culture testing',\n    '[3] Ensure efficient systems for sample collection and transport to lab',\n    '[4] Consider official training visits for facilities with <60% compliance',\n    '[5] Consider clinical audits for facilites with <40% compliance',\n  ]\n}\nconst r_1_4 = {\n  text: 'Proportion of patients with clinical suspicion of bloodstream infection who had blood culture ordered',\n  numerator: q_5_2,\n  denominator: q_5_1,\n  target: { sectionId: 'collection-all', id: 'significant' },\n  standards: 'B3',\n  resources: [\n    {\n      title: 'Epidemiology of Bacteremia in Febrile Infants in the United States',\n      link: 'https://drive.google.com/drive/folders/1Y2LqvJ374uNHXtIXvyNhLpet9s8SKnol?usp=sharing'\n    },\n    {\n      title: 'Sepsis: A Review of Advances in Management',\n      link: 'https://drive.google.com/drive/folders/1Y2LqvJ374uNHXtIXvyNhLpet9s8SKnol?usp=sharing'\n    },\n    {\n      title: 'Sepsis Management',\n      link: 'https://drive.google.com/drive/folders/1Y2LqvJ374uNHXtIXvyNhLpet9s8SKnol?usp=sharing'\n    },\n    {\n      title: 'Sepsis Roadmap',\n      link: 'https://drive.google.com/drive/folders/1Y2LqvJ374uNHXtIXvyNhLpet9s8SKnol?usp=sharing'\n    },\n  ],\n  recommendations: [\n    '[1] Conduct clinician training on use of blood culture to diagnose bloodstream infections',\n    '[2] Ensure uninterrupted supplies and reagents available to conduct faecal culture testing',\n    '[3] Ensure efficient systems for sample collection and transport to lab',\n    '[4] Consider official training visits for facilities with <60% compliance',\n    '[5] Consider clinical audits for facilites with <40% compliance',\n  ]\n}\nconst inp_r_sec_1 = {\n  text: 'A. Appropriate Diagnostic Test Order (Clinical Facility, by Department)',\n  results: [r_1_1, r_1_2, r_1_3, r_1_4]\n};\n\n\nconst r_2_1 = {\n  standards: 'F4',\n  text: 'Proportion of patients for whom informed consent was obtained and documented in the clinical notes before performing faeces culture',\n  numerator: q_3_4,\n  denominator: q_3_3,\n  target: { sectionId: 'collection-all', id: 'informed' },\n  recommendations: [\n    '[1] Remind clinicians of the importance of correct use & documentation of request forms, including informed consent, as incomplete forms will lead to samples being rejected.',\n    '[2] Stipulate that a \"Reply\" line should be included on clinical reports that patient details, including informed consent, are essential for sample processing',\n  ],\n  resources: [\n    {\n      title: 'An effective multisource informed consent procedure for research and clinical practice',\n      link: 'https://drive.google.com/file/d/1h4jZn94FORB4Mau8BL13vaY9-DPeVjF7/view?usp=sharing'\n    }\n  ]\n}\nconst r_2_2 = {\n  standards: 'F5',\n  text: 'Proportion of patients from whom faeces were collected using aseptic technique',\n  numerator: q_3_5,\n  denominator: q_3_3,\n  target: { sectionId: 'collection-all', id: 'aseptic' },\n  recommendations: [\n    '[1] Remind clinicians that samples not collected aseptically, are of doubtful clinical significance.',\n    '[2] Stipulate that a \"Reply\" line should be included on clinical reports that samples not collected aseptically, are of doubtful clinical significance, and a repeat sample must be sent ASAP',\n  ],\n  resources: [\n    {\n      title: 'An effective multisource informed consent procedure for research and clinical practice',\n      link: 'https://drive.google.com/file/d/1h4jZn94FORB4Mau8BL13vaY9-DPeVjF7/view?usp=sharing'\n    }\n\n  ]\n}\nconst r_2_3 = {\n  standards: 'F6',\n  text: 'Proportion of patients for whom a minimum of 1g of feaces was collected for faeces culture',\n  numerator: q_3_6,\n  denominator: q_3_3,\n  target: { sectionId: 'collection-all', id: 'minimum' },\n  recommendations: [\n    '[1] Remind clinicians that a suffient quantity of faecal mater is required for testing and true representation of the microbes within',\n    '[2] Stipulate that a \"Reply\" line should be included on clinical reports that samples not collected in sufficient quantity may adversly affect the results and may lead to false negatives',\n  ],\n  resources: [\n    {\n      title: 'Laboratory Diagnosis of Bacterial Gastroenteritis',\n      link: 'https://drive.google.com/file/d/1h4jZn94FORB4Mau8BL13vaY9-DPeVjF7/view?usp=sharing'\n    }\n  ]\n}\nconst r_2_4 = {\n  standards: 'F7',\n  text: 'Proportion of patients with correctly labelled sample collection containers',\n  numerator: q_3_7,\n  denominator: q_3_3,\n  target: { sectionId: 'collection-all', id: 'labelled' },\n  recommendations: [\n    '[1] Remind clinicians of the significance of correctly labelling patient identifiers on sample containers, as incomplete or incorrect details will lead to samples being rejected',\n    '[2] Stipulate that a \"Reply\" line should be included on clinical reports that correct patient details on samples are essential for sample processing, those with incomplete patient identifiers must be rejected and if possible a request for a new sample sent',\n  ],\n  resources: [\n    {\n      title: 'Correct labelling of samples in: WHO guidelines on drawing blood',\n      link: 'https://drive.google.com/file/d/1h4jZn94FORB4Mau8BL13vaY9-DPeVjF7/view?usp=sharing'\n    }\n  ]\n}\nconst r_2_5 = {\n  standards: 'F8',\n  text: 'Proportion of patients with completely and accurately completed lab request form',\n  numerator: q_3_8,\n  denominator: q_3_3,\n  target: { sectionId: 'collection-all', id: 'form' },\n  recommendations: [\n    '[1] Remind clinicians of the significance of correct documentation of patient and sample details on all request forms, as incomplete or incorrect details will lead to samples being rejected',\n    '[2] Stipulate that a \"Reply\" line should be included on clinical reports that correct patient & sample details on request forms are essential for sample processing, those with incomplete patient identifiers or wrong sample details must be rejected and if possible a request for a new sample sent',\n  ],\n  resources: [\n    {\n      title: 'Correct labelling of request forms in: WHO guidelines on drawing blood',\n      link: 'https://drive.google.com/file/d/1h4jZn94FORB4Mau8BL13vaY9-DPeVjF7/view?usp=sharing'\n    }\n  ]\n}\nconst r_2_6 = {\n  standards: 'F9',\n  text: 'Proportion of patients with faecal collection documented in clinical notes',\n  numerator: q_3_9,\n  denominator: q_3_3,\n  target: { sectionId: 'collection-all', id: 'informed' },\n  recommendations: [\n    '[1] Remind clinicians on the importance of complete and correct sample notes and clinical history',\n    '[2] All samples must be noted and described for the material they contain on the request form to ensure correct sample processing and pairing of samples with the relevant request form',\n  ],\n  resources: [\n    {\n      title: 'Laboratory Diagnosis of Bacterial Gastroenteritis',\n      link: 'https://drive.google.com/file/d/1h4jZn94FORB4Mau8BL13vaY9-DPeVjF7/view?usp=sharing'\n    }\n  ]\n}\n\nconst inp_r_sec_2 = {\n  text: 'B1. Sample Collection: Faeces',\n  results: [r_2_1, r_2_2, r_2_3, r_2_4, r_2_5, r_2_6]\n};\n\nconst r_3_1 = {\n  standards: 'U4',\n  text: 'Proportion of patients for whom informed consent was obtained and documented in the clinical notes before performing urine culture',\n  numerator: q_4_4,\n  denominator: q_4_3,\n  target: { sectionId: 'collection-all', id: 'informed' },\n  resources: [\n    {\n      title: 'An effective multisource informed consent procedure for research and clinical practice',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n  ],\n  recommendations: [\n    '[1] Remind clinicians of the importance of correct use & documentation of request forms, including informed consent, as incomplete forms will lead to samples being rejected. ',\n    '[2] Stipulate that a \"Reply\" line should be included on clinical reports that patient details, including informed consent, are essential for sample processing'\n  ]\n};\nconst r_3_2 = {\n  standards: 'U5',\n  text: 'Proportion of patients with urine collected for culture prior to administration of antibiotics',\n  numerator: q_4_5,\n  denominator: q_4_3,\n  target: { sectionId: 'collection-all', id: 'antibiotics' },\n  resources: [\n    {\n      title: 'Update on the approach of urinary tract infection in childhood',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n  ],\n  recommendations: [\n    '[1] Please note that best practice states that urine sample should be sent prior to prescribing of antibiotics',\n    '[2] Samples where patients have already taken antibiotics must have this noted, as well as which antibiotic was taken, as antibiotic use can lead to false negatives and will require staff to have knowledge in order to interpret results correctly',\n    '[3] Stipulate that a \"Report\" line is included in all clinical reports, that antibiotic use prior to urine sampling, must be noted'\n]\n};\nconst r_3_3 = {\n  standards: 'U6',\n  text: 'Proportion of patients advised by clinical staff on the correct procedure for mid-stream urine collection ',\n  numerator: q_4_6,\n  denominator: q_4_3,\n  target: { sectionId: 'collection-all', id: 'aseptic' },\n  resources: [\n    {\n      title: 'Collection of Mid-Stream urine guidelines',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n  ],\n  recommendations: [\n    '[1] Remind clinicians on the importance of correct urinary sample collection, in order to prevent contamination with commensals ',\n    '[2] Provide training resources for clinicans',\n    '[3] Provide \"How to\" poster for doctors toilet walls, informing patients to evacuate the first part of urine, clean and then collect a mid-stream sample',\n    '[4] Make sure each surgery has adequate provisions for patients to clean themselves when collecting a sample'\n  ]\n};\nconst r_3_4 = {\n  standards: 'U7',\n  text: 'Proportion of patients reviewed for whom suprapubic urine samples were collected for culture',\n  numerator: q_4_7,\n  denominator: q_4_3,\n  target: { sectionId: 'collection-all', id: 'aseptic' },\n  resources: [\n\n  ],\n  recommendations: [\n    '[1] Remind clinicians of the significance of correct sample collection, to prevent contamination',\n    '[2] Train clinicians on the correct indications for when a suprapubic sample is required '\n  ]\n};\nconst r_3_5 = {\n  standards: 'U8',\n  text: 'Proportion of patients from whom suprapubic urine was collected using aseptic technique',\n  numerator: q_4_8,\n  denominator: q_4_3,\n  target: { sectionId: 'collection-all', id: 'aseptic' },\n  resources: [\n    {\n      title: 'Update on the approach of urinary tract infection in childhood',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n  ],\n  recommendations: [\n    '[1] Remind clinicians of the significance of correct sample collection, to prevent contamination',\n    '[2] Train clinicians on the correct indications for when a suprapubic sample is required '\n  ]\n};\nconst r_3_6 = {\n  standards: 'U9',\n  text: 'Proportion of patients for whom a minimum of 3ml urine was collected for culture',\n  numerator: q_4_9,\n  denominator: q_4_3,\n  target: { sectionId: 'collection-all', id: 'minimum' },\n  resources: [\n    {\n      title: 'Update on the approach of urinary tract infection in childhood',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n    {\n      title: 'Collection of mid-stream urine samples guidelines',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n  ],\n  recommendations: [\n    '[1] Remind clinicians of the importance of having sufficient sample to test',\n    '[2] Provide training for clinicians to make sure they ask patients to have drunk enough water, and wait a minimum 30m to 1h before giving a sample'\n  ]\n};\nconst r_3_7 = {\n  standards: 'U10',\n  text: 'Proportion of patients with correctly labelled sample collection containers',\n  numerator: q_4_10,\n  denominator: q_4_3,\n  target: { sectionId: 'collection-all', id: 'labelled' },\n  resources: [\n    {\n      title: 'Correct labelling of samples in: WHO guidelines on drawing blood',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n  ],\n  recommendations: [\n    '[1] Remind clinicians of the significance of correctly labelling patient identifiers on sample containers, as incomplete or incorrect details will lead to samples being rejected ',\n    '[2] Stipulate that a \"Reply\" line should be included on clinical reports that correct patient details on samples are essential for sample processing, those with incomplete patient identifiers must be rejected and if possible a request for a new sample sent'\n  ]\n};\nconst r_3_8 = {\n  standards: 'U11',\n  text: 'Proportion of patients with completely and accurately completed lab request form',\n  numerator: q_4_11,\n  denominator: q_4_3,\n  target: { sectionId: 'collection-all', id: 'form' },\n  resources: [\n    {\n      title: 'Correct labelling of request forms in: WHO guidelines on drawing blood',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n  ],\n  recommendations: [\n    '[1] Remind clinicians of the significance of correct documentation of patient and sample details on all request forms, as incomplete or incorrect details will lead to samples being rejected ',\n    '[2] Stipulate that a \"Reply\" line should be included on clinical reports that correct patient & sample details on request forms are essential for sample processing, those with incomplete patient identifiers or wrong sample details must be rejected and if possible a request for a new sample sent'\n  ]\n};\nconst r_3_9 = {\n  standards: 'U12',\n  text: 'Proportion of patient with urine collection documented in clinical notes',\n  numerator: q_4_12,\n  denominator: q_4_3,\n  target: { sectionId: 'collection-all', id: 'informed' },\n  resources: [\n\n  ],\n  recommendations: [\n    '[1] Remind clinicians on the importance of complete and correct sample notes and clinical history ',\n    '[2] All samples must be noted and described for the material they contain on the request form to ensure correct sample processing and pairing of samples with the relevant request form'\n  ]\n};\n\nconst inp_r_sec_3 = {\n  text: 'B2. Sample Collection: Urine',\n  results: [r_3_1, r_3_2, r_3_3, r_3_4, r_3_5, r_3_6, r_3_7, r_3_8, r_3_9]\n};\n\n\nconst r_4_1 = {\n  standards: 'B4',\n  text: 'Proportion of patients for whom informed consent was obtained and documented in the clinical notes before taking blood for culture',\n  numerator: q_5_4,\n  denominator: q_5_3,\n  target: { sectionId: 'collection-all', id: 'informed' },\n  resources: [\n    {\n      title: 'An effective multisource informed consent procedure ',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n  ],\n  recommendations: [\n    '[1] Remind clinicians of the importance of correct use & documentation of request forms, including informed consent, as incomplete forms will lead to samples being rejected. ',\n    '[2] Stipulate that a \"Reply\" line should be included on clinical reports that patient details, including informed consent, are essential for sample processing',\n  ]\n\n};\nconst r_4_2 = {\n  standards: 'B5',\n  text: 'Proportion of patients for whom blood for culture was taken prior to administration of antibiotics',\n  numerator: q_5_5,\n  denominator: q_5_3,\n  target: { sectionId: 'collection-all', id: 'antibiotics' },\n  resources: [\n    {\n      title: 'Blood Culture BioMerieux',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n    {\n      title: 'Sepsis: A Review of Advances in Management',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n  ],\n  recommendations: [\n    '[1] Please note that best practice states that blood samples should be sent prior to prescribing of antibiotics',\n    '[2] Samples where patients have already taken antibiotics must have this noted, as well as which antibiotic was taken, as antibiotic use can lead to false negatives and will require staff to have knowledge in order to interpret results correctly',\n    '[3] Stipulate that a \"Report\" line is included in all clinical reports, that antibiotic use prior to blood sampling, must be noted',\n  ]\n\n};\nconst r_4_3 = {\n  standards: 'B6',\n  text: 'Proportion of patients for whom clinician taking blood sample washed hands prior to procedure',\n  numerator: q_5_6,\n  denominator: q_5_3,\n  target: { sectionId: 'collection-blood', id: 'washed' },\n  resources: [\n    {\n      title: 'WHO guidelines on drawing blood',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n  ],\n  recommendations: [\n    '[1] Remind clinicians on the significance of correct asceptic technique when collecting blood samples to avoid cross contamination',\n    '[2] Send clinicians \"How to\" posters, if possible, showing correctly collect blood samples',\n    '[3] Ensure clinicians have sufficient access to wash stations, disinfection material & gloves',\n  ]\n\n};\nconst r_4_4 = {\n  standards: 'B7',\n  text: 'Proportion of patients for whom clinician taking blood sample disinfected hands prior to procedure',\n  numerator: q_5_7,\n  denominator: q_5_3,\n  target: { sectionId: 'collection-blood', id: 'disinfected' },\n  resources: [\n    {\n      title: 'WHO guidelines on drawing blood',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n  ],\n  recommendations: [\n    '[1] Remind clinicians on the significance of correct asceptic technique when collecting blood samples to avoid cross contamination',\n    '[2] Send clinicians \"How to\" posters, if possible, showing correctly collect blood samples',\n    '[3] Ensure clinicians have sufficient access to wash stations, disinfection material & gloves',\n  ]\n\n};\nconst r_4_5 = {\n  standards: 'B8',\n  text: 'Proportion of patients for whom clinician taking blood sample used sterile gloves for procedure',\n  numerator: q_5_8,\n  denominator: q_5_3,\n  target: { sectionId: 'collection-blood', id: 'sterile' },\n  resources: [\n    {\n      title: 'WHO guidelines on drawing blood',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n  ],\n  recommendations: [\n    '[1] Remind clinicians on the significance of correct asceptic technique when collecting blood samples to avoid cross contamination',\n    '[2] Send clinicians \"How to\" posters, if possible, showing correctly collect blood samples',\n    '[3] Ensure clinicians have sufficient access to wash stations, disinfection material & gloves',\n  ]\n\n};\nconst r_4_6 = {\n  standards: 'B9',\n  text: 'Proportion of patients from whom blood was drawn from peripheral sites for blood culture',\n  numerator: q_5_9,\n  denominator: q_5_3,\n  target: { sectionId: 'collection-blood', id: 'peripheral' },\n  resources: [\n    {\n      title: 'WHO guidelines on drawing blood',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n  ],\n  recommendations: [\n    '[1] Ensure there is sufficient training for clinicians on the correct procedures and sites for blood sampling',\n  ]\n\n};\nconst r_4_7 = {\n  standards: 'B10',\n  text: 'Proportion of patients for whom blood cultures were drawn from separate venipuncture sites',\n  numerator: q_5_10,\n  denominator: q_5_3,\n  target: { sectionId: 'collection-blood', id: 'venipuncture' },\n  resources: [\n    {\n      title: 'WHO guidelines on drawing blood',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n  ],\n  recommendations: [\n    '[1] Ensure there is sufficient training for clinicians on the correct procedures and sites for blood sampling',\n  ]\n\n};\nconst r_4_8 = {\n  standards: 'B11',\n  text: 'Proportion of patients for whom puncture site was cleaned using appropriate disinfectant',\n  numerator: q_5_11,\n  denominator: q_5_3,\n  target: { sectionId: 'collection-blood', id: 'cleaned' },\n  resources: [\n    {\n      title: 'WHO guidelines on drawing blood',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n  ],\n  recommendations: [\n    '[1] Remind clinicians on the significance of correct asceptic technique when collecting blood samples to avoid cross contamination',\n    '[2] Send clinicians \"How to\" posters, if possible, showing correctly collect blood samples ',\n    '[3] Ensure clinicians have sufficient access to disinfection materials and alcohol swabs',\n    '[4] Conduct onsite training if samples are repeatedly contaminated',\n  ]\n\n};\nconst r_4_9 = {\n  standards: 'B12',\n  text: 'Proportion of patients for whom puncture site was disinfected allowed time to dry before inserting needle',\n  numerator: q_5_12,\n  denominator: q_5_3,\n  target: { sectionId: 'collection-blood', id: 'site-dry' },\n  resources: [\n    {\n      title: 'WHO guidelines on drawing blood',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n  ],\n  recommendations: [\n    '[1] Remind clinicians on the significance of correct asceptic technique when collecting blood samples to avoid cross contamination',\n    '[2] Ensure clinicians understand the correct method for decontaminating a blood sampling site, including letting the disinfection dry off before use',\n    '[3] Conduct onsite training if samples are repeatedly contaminated',\n  ]\n\n};\nconst r_4_10 = {\n  standards: 'B13',\n  text: 'Proportion of patients for whom the blood culture bottle tops were disinfected prior to inoculation',\n  numerator: q_5_13,\n  denominator: q_5_3,\n  target: { sectionId: 'collection-blood', id: 'tops-disinfected' },\n  resources: [\n    {\n      title: 'WHO guidelines on drawing blood',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n  ],\n  recommendations: [\n    '[1] Remind clinicians on the significance of correct asceptic technique when collecting blood samples to avoid cross contamination, including alcohol cleaning of bottle tops before introducing blood sample',\n    '[2] Ensure clinicians understand the correct method for decontaminating a blood bottles - conduct onsite training if samples are repeatedly contaminated',\n  ]\n\n};\nconst r_4_11 = {\n  standards: 'B14',\n  text: 'Proportion of patients for whom the blood culture bottle tops allowed to dry prior to inoculation',\n  numerator: q_5_14,\n  denominator: q_5_3,\n  target: { sectionId: 'collection-blood', id: 'tops-dry' },\n  resources: [\n    {\n      title: 'WHO guidelines on drawing blood',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n  ],\n  recommendations: [\n    '[1] Remind clinicians on the significance of correct asceptic technique when collecting introducing blood samples to avoid cross contamination',\n    '[2] Ensure clinicians understand the correct method for decontaminating a blood bottle, including letting the disinfection dry off before use',\n    '[3] Conduct onsite training if samples are repeatedly contaminated',\n  ]\n\n};\nconst r_4_12 = {\n  standards: 'B15',\n  text: 'Proportion of patients whom needles were not exchanged between blood culture collection and inoculation of blood culture bottles',\n  numerator: q_5_15,\n  denominator: q_5_3,\n  target: { sectionId: 'collection-blood', id: 'needles' },\n  resources: [\n    {\n      title: 'WHO guidelines on drawing blood',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n  ],\n  recommendations: [\n    '[1] Remind clinicians on the significance of correct asceptic technique when collecting blood samples to avoid cross contamination',\n    '[2] Ensure clinicians understand the significance of sterile single use needles for blood collection',\n    '[3] Ensure a sufficient supply of single use sterile needles and equipment',\n    '[4] Conduct onsite training if samples are repeatedly contaminated',\n  ]\n\n};\nconst r_4_13 = {\n  standards: 'B16',\n  text: 'Proportion of patients whom had blood culture bottles inoculated first, if blood is collected for other tests',\n  numerator: q_5_16,\n  denominator: q_5_3,\n  target: { sectionId: 'collection-blood', id: 'first' },\n  resources: [\n    {\n      title: 'WHO guidelines on drawing blood',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n    {\n      title: 'Blood collection procedure',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n    {\n      title: 'Order of Blood bottle collection',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n  ],\n  recommendations: [\n    '[1] Ensure clinicians understand the significance of introducing blood into culture bottles first to avoid chemical cross contamination with other tests. ',\n    '[2] Provide clinicians with charts, to show the order in which to inoculate bottles',\n    '[3] Conduct onsite training if samples are repeatedly spoiled',\n  ]\n\n};\nconst r_4_14 = {\n  standards: 'B17',\n  text: 'Proportion of patients whom had a minimum of 2 and maximum of 3 blood cultures drawn within 24 hours',\n  numerator: q_5_17,\n  denominator: q_5_3,\n  target: { sectionId: 'collection-blood', id: 'drawn' },\n  resources: [\n    {\n      title: 'WHO guidelines on drawing blood',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n    {\n      title: 'Blood collection procedure',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n  ],\n  recommendations: [\n    '[1] Ensure training for clinicians to understand the reasons why 2-3 bottles are required within a 24h period',\n  ]\n\n};\nconst r_4_15 = {\n  standards: 'B18',\n  text: 'Proportion of patients patients whom had an aerobic blood culture in a resource-limited setting',\n  numerator: q_5_18,\n  denominator: q_5_3,\n  target: { sectionId: 'collection-blood', id: 'aerobic' },\n  resources: [\n    {\n      title: 'WHO guidelines on drawing blood',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n    {\n      title: 'Blood collection procedure',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n  ],\n  recommendations: [\n    '[1] Ensure clinicians understand the significance of collecting an aerobic bottle of blood over an anaerobic one - Paediatric patients rarely have anaerobes, therefore prioritise aerobic bottles',\n    '[2] Send clinicians reminders that aerobic bacteria predominate in adult blood infections too, if a choice is necessary, choose to use aerobic',\n  ]\n\n};\nconst r_4_16 = {\n  standards: 'B19',\n  text: 'Proportion of patients whom had blood collection where the volume followed the manufacturer\\'s recommendations: typically 10mL per bottle for adults, 1-3 mL per bottle for children',\n  numerator: q_5_19,\n  denominator: q_5_3,\n  target: { sectionId: 'collection-blood', id: 'volume' },\n  resources: [\n    {\n      title: 'WHO guidelines on drawing blood',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n    {\n      title: 'Blood collection procedure',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n  ],\n  recommendations: [\n    '[1] Ensure clinicians understand the significance of adequate blood volumes required for reliable blood cultures. Less than the recommended volume will most likely lead to a false negative',\n    '[2] Conduct onsite training for sites where blood isn\\'t routinely collected at sufficient quantities',\n  ]\n\n};\nconst r_4_17 = {\n  standards: 'B20',\n  text: 'Proportion of patients with correctly labelled blood culture bottles',\n  numerator: q_5_20,\n  denominator: q_5_3,\n  target: { sectionId: 'collection-all', id: 'labelled' },\n  resources: [\n    {\n      title: 'WHO guidelines on drawing blood',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n    {\n      title: 'Blood collection procedure',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n  ],\n  recommendations: [\n    '[1] Remind clinicians of the significance of correctly labelling patient identifiers on sample containers, as incomplete or incorrect details will lead to samples being rejected ',\n    '[2] Stipulate that a \"Reply\" line should be included on clinical reports that correct patient details on samples are essential for sample processing, those with incomplete patient identifiers must be rejected and if possible a request for a new sample sent',\n  ]\n\n};\nconst r_4_18 = {\n  standards: 'B21',\n  text: 'Proportion of patients with completely and accurately completed lab request form',\n  numerator: q_5_21,\n  denominator: q_5_3,\n  target: { sectionId: 'collection-all', id: 'form' },\n  resources: [\n    {\n      title: 'WHO guidelines on drawing blood',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n    {\n      title: 'Blood collection procedure',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n  ],\n  recommendations: [\n    '[1] Remind clinicians of the significance of correct documentation of patient and sample details on all request forms, as incomplete or incorrect details will lead to samples being rejected ',\n    '[2] Stipulate that a \"Reply\" line should be included on clinical reports that correct patient & sample details on request forms are essential for sample processing, those with incomplete patient identifiers or wrong sample details must be rejected and if possible a request for a new sample sent',\n  ]\n\n};\nconst r_4_19 = {\n  standards: 'B22',\n  text: 'Proportion of patient with blood collection documented in clinical notes',\n  numerator: q_5_22,\n  denominator: q_5_3,\n  target: { sectionId: 'collection-all', id: 'informed' },\n  resources: [\n    {\n      title: 'WHO guidelines on drawing blood',\n      link: 'https://drive.google.com/drive/folders/14aQ12USIOsuHyLOU75sHVQ8oVi4N0Pk0?usp=sharing'\n    },\n  ],\n  recommendations: [\n    '[1] Remind clinicians on the importance of complete and correct sample notes and clinical history',\n    '[2] All samples must be noted and described for the material they contain on the request form to ensure correct sample processing and pairing of samples with the relevant request form',\n  ]\n\n};\nconst inp_r_sec_4 = {\n  text: 'B3. Sample Collection: Blood',\n  results: [r_4_1, r_4_2, r_4_3, r_4_4, r_4_5, r_4_6, r_4_7, r_4_8, r_4_9, r_4_10, r_4_11, r_4_12, r_4_13, r_4_14, r_4_15, r_4_16, r_4_17, r_4_18, r_4_19]\n};\n\nconst results = [\n  inp_r_sec_1,\n  inp_r_sec_2,\n  inp_r_sec_3,\n  inp_r_sec_4\n]\n\nexport { title, instructions, targetInstructions, departmentInstructions, questions, targets, results, departments }","import {\n  title as facilityTitle,\n  instructions as facilityInstructions,\n  questions as facilityQuestions } from './facility';\nimport {\n  title as inputsTitle,\n  instructions as inputsInstructions,\n  questions as inputsQuestions,\n  targets as inputsTargets,\n  results as inputsResults,\n  departments,\n  targetInstructions,\n  departmentInstructions } from './inputs';\n\nconst sectionsMap = {\n  facility: { \n    title: facilityTitle,\n    instructions: facilityInstructions,\n    questions: facilityQuestions\n  },\n  inputs: { \n    title: inputsTitle,\n    instructions: inputsInstructions,\n    questions: inputsQuestions,\n    requiresSetup: true,\n    targets: inputsTargets,\n    results: inputsResults,\n    departments,\n    targetInstructions,\n    departmentInstructions\n  }\n}\n\nexport default sectionsMap;","const getTargetId = (targetSectionId, targetId) => \n  `target-${targetSectionId}--${targetId}`;\n  \nconst getTableCellId = (department, question) => \n  `cell-${department.id}--${question.id}`;\n\n  export {\n    getTargetId,\n    getTableCellId\n  }","import React from 'react';\nimport Accordion from 'react-bootstrap/Accordion';\nimport Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport Form from 'react-bootstrap/Form';\nimport Table from 'react-bootstrap/Table';\nimport sectionsMap from './sections';\nimport { getTableCellId, getTargetId } from './helperFunctions'\n\nimport { Multiselect } from 'multiselect-react-dropdown';\nimport _ from 'lodash'\n\nconst radioNoTag = '_no';\n\nclass AssessmentSection extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      contents: null,\n      selectedDepts: [],\n      begun: false,\n      warnings: []\n    };\n\n    this.toggleSubQs = this.toggleSubQs.bind(this);\n    this.selectDept = this.selectDept.bind(this);\n    this.removeDept = this.removeDept.bind(this);\n    this.begin = this.begin.bind(this);\n\n    this.processElement = this.processElement.bind(this);\n    this.getSection = this.getSection.bind(this);\n    this.getQTable = this.getQTable.bind(this);\n\n    this.qs = [];\n  }\n\n  componentDidMount() {\n    const { requiresSetup } = sectionsMap[this.props.section];\n\n\n    const targetData = {};\n    if (!requiresSetup) {\n      this.generateQuestions(targetData);\n    }\n  }\n\n  generateQuestions(targetData) {\n    const { questions } = sectionsMap[this.props.section];\n    const contents = questions.map(el => this.processElement(el));\n    this.setState({ contents });\n    \n    const sectionObj = {\n      questions: this.qs,\n      departments: this.state.selectedDepts,\n      targetData\n    }\n    this.props.sendMap(this.props.section, sectionObj);\n  }\n\n  getInstructions() {\n    const { title, instructions, requiresSetup } = sectionsMap[this.props.section];\n    return (\n      <div className='instructions'>\n        <h3>{this.state.begun || !requiresSetup ? 'Data Inputs' : 'Targets'} for the {title}</h3>\n        {(this.state.begun || !requiresSetup) && instructions.map((sect, i) =><span className='instruction' key={'inst-'+i}>{sect}</span>)}\n        {this.props.section === 'facility' && (\n          <span className='instruction'>\n            The following coloured circles are used to indicate questions pertaining to specific specimen types:\n            <span className='specimen-tags'>\n              {\" \"}<i className='f' /> (faeces), \n              {\" \"}<i className='u' /> (urine), and \n              {\" \"}<i className='b' /> (blood).\n            </span>\n          </span>\n        )}\n        {!this.state.begun && this.getDeptSelection()}\n        {!this.state.begun && this.getTargetSetting()}\n        {!this.state.begun && this.getStartButton()}\n      </div>\n    )\n  }\n\n  processElement(el) {\n    const { type } = el;\n\n    switch (type) {\n      case 'section':\n        return this.getSection(el);\n    \n      case 'preface':\n        return this.getPreface(el);\n    \n      case 'q':\n        const { id, subType, expectedValue = true } = el;\n        this.qs.push(el);\n\n        if (subType === 'box') {\n          return this.getQuestionBox(el);\n        } else if (subType === 'y_n') {\n          return this.getQuestionYN(el);\n        } else if (subType === '%') {\n          return this.getQuestionPerc(el);\n        }\n    \n      default:\n        console.error('Unknown element type: ', el);\n        break;\n    }\n  }\n\n  getSection(el) {\n    const { children, id, text, subType, dataSource='' } = el;\n    let content;\n    if (subType === 'table') {\n      content = this.getQTable(children);\n    } else {\n      content = _.map(children, this.processElement);\n    }\n    return (\n      <Card key={'sect-'+id}>\n        <Card.Header>\n            <Accordion.Toggle as={Button} variant='link' eventKey={id}>\n              {dataSource + ' ' + text}  \n              {/* {dataSource ? `${dataSource} ${text}` : text} */}\n            </Accordion.Toggle>\n        </Card.Header>\n        <Accordion.Collapse eventKey={id}>\n          <Card.Body>\n            {content}\n          </Card.Body>\n        </Accordion.Collapse>\n      </Card>\n    )\n  }\n\n  getQTable(children) {\n    const extractedText = 'Number of patients'\n    const extract = children.every(q => q.text.startsWith(extractedText))\n    const upperCornerText = extract ? extractedText + '...' : null;\n    return (\n      <Table striped bordered responsive>\n      <thead>\n        <tr>\n          <th>{upperCornerText}</th>\n          {this.state.selectedDepts.map(d => {\n            return <th key={'th-'+d.name}>{d.name}</th>\n          })}\n        </tr>\n      </thead>\n      <tbody>\n        {children.map((q, i) => {\n          this.qs.push(q);\n          const { id, text, tags, standards, dataSource, subType, denominator } = q;\n          const displayText = extract ? '...' + text.slice(extractedText.length+1) : text\n          const question = ( // TODO: KEY\n            <>\n              {!!tags && !!tags.length &&\n                <span className='specimen-tags'>\n                  {tags.map(t => <i key={'tag-'+q.id+'-'+t} className={t} />)}\n                </span>\n              }\n              <span className='response-text'>{displayText}</span>\n              {!!standards && <span className='standard-tag'> ({standards})</span>}\n            </>\n          )\n          const trClass = denominator ? 'denominator' : 'numerator'\n          return (\n            <tr key={'tr-'+i+'-'+q.id} className={trClass}>\n              <td title={dataSource||'[data source]'}>{question}</td>\n              {this.state.selectedDepts.map(d => {\n\n                const uid = getTableCellId(d, q);\n                let content;\n                switch (subType) {\n                  case '%':\n                    content = <Form.Control type='number' min={0} id={uid} />;\n                    break;\n\n                  case 'y_n':\n                    content = (\n                      <>\n                        <Form.Check name={uid} type='checkbox' id={uid} label='' custom />\n                        {/* <Form.Check name={uid} type='radio' id={uid} label='yes' />\n                        <Form.Check name={uid} type='radio' id={uid+radioNoTag} label='no' /> */}\n                      </>\n                      )\n                    break;\n                \n                  default:\n                    console.error('Table not implemented for subtype: ' + subType);\n                    return;\n                }\n\n                return (\n                  <td key={uid}>\n                    {content}\n                  </td>\n                )\n              })}\n            </tr>\n          )\n        })}\n        </tbody>\n      </Table>\n    )\n  }\n\n  getPreface({ id, text, standards, children }) {\n    return (\n      <div key={id}>\n        <Form.Label>\n          <span className='question-text'>{text}</span>\n          {!!standards && <span className='standard-tag'> ({standards})</span>}\n        </Form.Label>\n        {!!children && !!children.length &&\n          <div className='child-questions'>\n            {children.map(childEl => this.processElement(childEl))}\n          </div>\n        }\n      </div>\n    )\n  }\n\n  getQuestionBox({ id, text, tags, standards }) {\n    const label = (\n      <>\n        {!!tags && !!tags.length &&\n          <span className='specimen-tags'>\n            {tags.map(t => <i key={'tag-'+id+'-'+t} className={t} />)}\n          </span>\n        }\n        <span className='response-text'>{text}</span>\n        {!!standards && <span className='standard-tag'> ({standards})</span>}\n      </>\n    )\n    return (\n      <Form.Check type='checkbox' \n        id={id}\n        key={id}\n        label={label}\n        custom\n        // name={id}\n      />\n    )\n  }\n\n  getQuestionPerc({ id, text, tags, standards }) {\n    // UNUSED\n    const label = (\n      <>\n        {!!tags && !!tags.length &&\n          <span className='specimen-tags'>\n            {tags.map(t => <i key={'tag-'+id+'-'+t} className={t} />)}\n          </span>\n        }\n        <span className='response-text'>{text}</span>\n        {!!standards && <span className='standard-tag'> ({standards})</span>}\n      </>\n    )\n    return (\n      <>\n        <Form.Control \n          id={id}\n          key={id}\n          // label={label}\n          type='number' min={0} max={100}\n        />\n        {label}\n      </>\n    )\n  }\n\n  toggleSubQs(e) {\n    // ASSUMES SHOW IF ANSWER IS YES\n    let { id } = e.target;\n    let show = true;\n    if (id.endsWith(radioNoTag)) {\n      id = id.slice(0, id.length - radioNoTag.length);\n      show = false;\n    }\n    // this.setState({ [id]: show });\n\n    // TODO: use refs?\n    const parent = document.querySelector(`#${id}_parent`);\n    parent.classList.toggle('show-sub-questions', show);\n  }\n\n  getQuestionYN({ id, text, standards, subQs, tags }) {\n\n    const onChange = subQs ? this.toggleSubQs : null;\n    return (\n      <div key={id} id={id + '_parent'} className='parent-questions'>\n        <Form.Group>\n          <Form.Label>\n            {!!tags && !!tags.length &&\n              <span className='specimen-tags'>\n                {tags.map(t => <i key={'tag-'+id+'-'+t} className={t} />)}\n              </span>\n            }\n            <span className='question-text'>{text}</span>\n            {!!standards && <span className='standard-tag'> ({standards})</span>}\n          </Form.Label>\n\n          <div className='response-text'>\n              <Form.Check onChange={onChange} name={id} inline type='radio' id={id} label='Yes' />\n              <Form.Check onChange={onChange} name={id} inline type='radio' id={id+radioNoTag} label='No' />\n          </div>\n        </Form.Group>\n\n        {!!subQs && \n          <div className='sub-questions child-questions'>\n            {subQs.map(childEl => this.processElement(childEl))}\n          </div>\n        }\n      </div>\n    )\n  }\n\n  selectDept(selectedDepts, item) {\n    this.setState({ selectedDepts });\n  }\n  \n  removeDept(selectedDepts, item) {\n    // const depts = [...this.state.selectedDepts];\n    this.setState({ selectedDepts });\n  }\n\n  begin() {\n    const deptsSelected = this.state.selectedDepts.length;\n    \n    const { targets } = sectionsMap[this.props.section];\n    const targetData = {};\n\n    const targetsComplete = targets.every(tSection => \n      tSection.sectionTargets.every(t => {\n        const { sectionId } = tSection;\n        const uid = getTargetId(sectionId, t.id);\n        const target = document.querySelector(`#${uid}`);\n        if (!target.value) {\n          return false;\n        }\n        const val = Number(target.value);\n        const validTarget = !isNaN(val) && val >= 0 && val <= 100;\n\n        // _.set\n        if (!targetData[sectionId]) {\n          targetData[sectionId] = {};\n        }\n        // we use this opportunity to record all target values for use if the section is complete\n        targetData[sectionId][t.id] = val;\n\n        return validTarget;\n      })\n    )\n\n    const warnings = [];\n    if (!deptsSelected) {\n      warnings.push('select departments to assess')\n    }\n    if (!targetsComplete) {\n      warnings.push('ensure that all target percentages are set as integers less than or equal to 100')\n    }\n\n    const begun = deptsSelected && targetsComplete;\n    this.setState({ warnings, begun }, () => {\n      if (begun) {\n        this.generateQuestions(targetData);\n      }\n    });\n  }\n\n  getStartButton() {\n    const { requiresSetup } = sectionsMap[this.props.section];\n    if (!requiresSetup) {\n      return;\n    }\n\n    let warningText = null;\n    if (this.state.warnings.length) {\n      warningText = `Please ${this.state.warnings.join(' and ')}.`;\n    }\n    return (\n      <div className='text-center mt-2 mb-5'> \n        <Button\n          onClick={this.begin}\n        >\n          Submit Targets & Proceed to Data Inputs\n        </Button>\n        <div className='warnings text-danger'>{warningText}</div>\n      </div>\n    )\n  }\n\n  getSubmitButton() {\n    const { requiresSetup } = sectionsMap[this.props.section];\n    if (requiresSetup && !this.state.begun) {\n      return;\n    }\n\n    let warningText = null;\n    if (this.state.warnings.length) {\n      warningText = `Please ${this.state.warnings.join(' and ')}.`;\n    }\n    return (\n      <div className='text-center my-5'> \n        <Button\n          onClick={() => this.props.submit(this.props.section)} \n        >\n          Submit Assessment Section\n        </Button>\n        <div className='warnings text-danger'>{warningText}</div>\n      </div>\n    )\n  }\n\n  getDeptSelection() {\n    const { departments, departmentInstructions } = sectionsMap[this.props.section];\n    if (!departments) {\n      return;\n    }\n\n    return (\n      <div className='mt-5'>\n        {departmentInstructions.map((sect, i) =><span className='instruction my-2' key={'inst-'+i}>{sect}</span>)}\n        <h4>Select departments to assess</h4>\n        <Multiselect\n          options={departments}\n          placeholder='select departments'\n          avoidHighlightFirstOption={true}\n          showCheckbox={true}\n          closeOnSelect={false}\n          closeIcon='cancel'\n          //selectedValues={1} // Preselected value to persist in dropdown\n          selectionLimit={8}\n          onSelect={this.selectDept}\n          onRemove={this.removeDept}\n          displayValue=\"name\" // Property name to display in the dropdown options\n        />\n      </div>\n    )\n  }\n\n  getTargetSetting() {\n    const { targets, targetInstructions } = sectionsMap[this.props.section];\n    if (!targets) {\n      return;\n    }\n\n    return (\n      <div className='mt-5'>\n          {targetInstructions.map((sect, i) =><span className='instruction my-2' key={'inst-'+i}>{sect}</span>)}\n          <h4 className='my-3'>Set targets for the Clinical Facility Level</h4>\n          {targets.map(tSection => (\n            <div className='target-section' key={tSection.sectionName}>\n              <h5>{tSection.sectionName}</h5>\n              {tSection.sectionTargets.map((t, idx) => (\n                <div key={getTargetId(tSection.sectionId, t.id)}>\n                  <Form.Control\n                    className='target'\n                    // label={t.text}\n                    id={getTargetId(tSection.sectionId, t.id)}\n                    type='number' min={0} max={100} defaultValue={100}\n                    />\n                  <Form.Label>{t.text}</Form.Label>\n                  <br/>  \n                </div>\n              ))}\n              <br/>\n            </div>\n          ))}\n      </div>\n    )\n  }\n\n  render() {\n    const { questions, requiresSetup } = sectionsMap[this.props.section];\n    const showContents = this.state.begun || !requiresSetup;\n\n    const defaultKey = questions[0].id;\n    return (\n      <Accordion defaultActiveKey={defaultKey} id={`${this.props.section}-section`} >\n        {this.getInstructions()}\n        {showContents && this.state.contents}\n        {this.getSubmitButton()}\n      </Accordion>\n    );\n  }\n}\n\nexport default AssessmentSection;\n","import React from 'react';\nimport sectionsMap from './sections';\nimport Accordion from 'react-bootstrap/Accordion';\nimport Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport Form from 'react-bootstrap/Form';\nimport Table from 'react-bootstrap/Table';\n\nimport _ from 'lodash';\n\nclass Results extends React.Component {\n\n  getMissedItem({ id, text, standards }) {\n\n    // return <div key={q.id}>{q.text}</div>;\n    return (\n      <div className='missed-standard' key={id}>\n        <h5>Missed Standard:</h5>\n        <span className='negate-tag'>+</span>\n        {!!standards && <span className='standard-tag'> {standards}: </span>}\n        <span className='text'>\n          \"{text}\"\n        </span>\n      </div>\n    );\n  }\n\n\n  getSectionTable(section) {\n\n    const eldest = _.get(section, 'children.0');\n    if (!eldest) {\n      console.error('Childless section');\n      return;\n    }\n\n    const indicatorText = eldest.multiText;\n    const indicator = (\n      <div className='indicator' title={eldest.dataSource}>\n        {indicatorText}\n        {!!eldest.standards && <span className='standard-tag'> ({eldest.standards})</span>}\n      </div>\n    );\n\n    let somethingRight = !!eldest.answeredCorrectly;\n    let somethingWrong = false;\n    let recs = [];\n    const links = eldest.resources || [];\n\n    if (!_.isUndefined(eldest.answeredCorrectly) && !eldest.answeredCorrectly) {\n      // wrong off the bat\n      somethingWrong = true;\n      const eRecs = eldest.recs || [];\n      recs.push(...eRecs);\n    } else {\n      const parts = eldest.children || eldest.subQs;\n      parts.forEach(p => {\n        if (_.isUndefined(p.answeredCorrectly)) {\n          console.warn('undefined answer constituent of multipart question: ', p);\n          return;\n        } else if (p.answeredCorrectly) {\n          somethingRight = true;\n          return\n        }\n        // wrong answer\n        somethingWrong = true;\n        const pRecs = p.recs || [];\n        recs.push(...pRecs);\n      })\n    }\n\n    let fulfilled = 'No';\n    if (somethingRight && !somethingWrong) {\n      fulfilled = 'Yes';\n    } else if (somethingRight && somethingWrong) {\n      fulfilled = 'Partial';\n    }\n\n    const isFulfilled = fulfilled==='Yes';\n      \n    return (\n      <div>\n        <Table bordered striped responsive>\n          <thead>\n            <tr>\n              <th></th>\n              {/* <th>Standard</th> */}\n              {/* <th>Indicator</th> */}\n              <th>AMR Standard Met</th>\n              <th>Priority</th>\n              <th>Recommended Actions</th>\n              <th>Links to Resources</th>\n            </tr>\n          </thead>\n          <tbody>\n            {/* {section.results.map(r => this.getResultRow(r))} */}\n            <tr>\n              <td className='response-text-cell'>\n                {indicator}\n              </td>\n              <td className={'fulfilled '+fulfilled}>\n                {fulfilled}\n              </td>\n              {this.getPriorityCell(isFulfilled)}\n              {this.getRecsCell(isFulfilled, recs)}\n              {this.getLinksCell(isFulfilled, links)}\n            </tr>\n          </tbody>\n          </Table>\n      </div>\n    );\n  }\n\n  getRecsCell(isFulfilled, recommendations) {\n    if (isFulfilled) {\n      return <td>N/A</td>;\n    }\n    if (!recommendations.length) {\n      return <td></td>;\n    }\n\n    const formatPoint = (r, i) => {\n      console.log('!!', r)\n      const text = r.replace(/^\\[\\d+\\]/, '');\n      const pointNumber = recommendations.length > 1 ? i+1 : null;\n      return (\n        <div className='point' key={i}>\n          <span className='point-number'>{pointNumber}</span> {text}\n        </div>\n      )\n    }\n\n    return (\n      <td className='recommendations scrollable'>\n        <div>\n          {recommendations.map((r, i) => formatPoint(r, i))}\n        </div>\n      </td>\n    )\n  }\n\n\n  getPriorityCell(isFulfilled) {\n    if (isFulfilled) {\n      return <td>N/A</td>;\n    }\n\n    return (\n      <td>\n        <Form.Control as='select' custom>\n          <option></option>\n          <option>1</option>\n          <option>2</option>\n          <option>3</option>\n        </Form.Control>\n      </td>\n    )\n  }\n\n  getLinksCell(isFulfilled, links) {\n    if (isFulfilled) {\n      return <td>N/A</td>;\n    }\n    return (\n      <td className='links'>\n        {links.map(l => {\n          return <div key={l.text}>\n            <a href={l.link}>{l.title}</a>\n          </div>\n        })}\n      </td>\n    )\n  }\n\n  render() {\n    const { section } = this.props;\n    const processedQs = sectionsMap[section].questions;\n    console.log(\"1\", this.props.processedQs);\n    const defaultKey = processedQs[0].text;\n    return (\n      <div id={`${section}-result-page`} className='result-page'>\n        <div className='instructions'>\n          <h3>Results for the Clinical Facility Level</h3>\n          <div className=\"my-3\">\n            Based on your inputs, your assessment results by indicator, recommendations to address the specific gaps identified for that indicator, and, where available, relevant links to further resources are provided. \n          </div>\n          <div className=\"my-3\">\n            Click on each subsection header to expand the provided result, recommendations and resources, where available. \n          </div>\n          <div className=\"my-3\">\n            For each indicator that does not meet target performance, please select a priority level for the recommended action, with 1 being the highest and 3 being the lowest. \n          </div>\n        </div>\n        <Accordion\n          defaultActiveKey={defaultKey}\n        >\n          {processedQs.map(section => {\n            return (\n              <Card key={section.text}>\n                <Card.Header>\n                    <Accordion.Toggle as={Button} variant='link' eventKey={section.text}>\n                      {section.text}\n                    </Accordion.Toggle>\n                </Card.Header>\n                <Accordion.Collapse eventKey={section.text}>\n                  <Card.Body>\n                    {this.getSectionTable(section)}\n                  </Card.Body>\n                </Accordion.Collapse>\n              </Card>\n            )\n          })}\n        </Accordion>\n\n        <div className='text-center my-5'>\n          <Button onClick={this.props.proceed}>\n            Proceed to Next Assessment Section\n          </Button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Results;","import React from 'react';\nimport sectionsMap from './sections';\nimport Accordion from 'react-bootstrap/Accordion';\nimport Button from 'react-bootstrap/Button';\nimport Card from 'react-bootstrap/Card';\nimport Form from 'react-bootstrap/Form';\nimport Table from 'react-bootstrap/Table';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n\n\nimport _ from 'lodash';\n\n// const NEAR_THRESHHOLD = .8;\n\nclass ResultsTable extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      nearThreshhold: 90,\n    };\n\n    this.updateThreshhold = this.updateThreshhold.bind(this);\n  }\n\n  getSectionTable(rSection) {\n    const { departments } = sectionsMap[this.props.section];\n\n\n    let depts = _.keys(_.get(rSection, 'results.0.responseData', {}));\n    depts = depts.map(dStr => _.find(departments, d => d.id === dStr));\n\n    const totalTitle = 'This is the total indicator result for all assessed departments';\n    return (\n      <div>\n\n        <Table striped bordered responsive>\n          <thead>\n            <tr>\n              <th></th>\n              <th className='target-th'>Target</th>\n              {depts.map(d => <th key={d.name}>{d.name}</th>)}\n              <th title={totalTitle}>Total Actual</th>\n              <th>Priority</th>\n              <th>Recommended Actions</th>\n              <th>Links to Resources</th>\n            </tr>\n          </thead>\n          <tbody>\n            {rSection.results.map(r => this.getResultRow(r))}\n          </tbody>\n          </Table>\n      </div>\n    );\n  }\n\n  getResultRow(result) {\n    const { text, standards, targetValue, actualPerc, responseData } = result;\n    const question = (\n      <div>\n        <span className='response-text'>{text}</span>\n        {!!standards && <span className='standard-tag'> ({standards})</span>}\n      </div>\n    );\n    return (\n      <tr key={text}>\n        <td className='response-text-cell'>{question}</td>\n        <td className='target-td'>{targetValue+'%'}</td>\n        {_.map(responseData, (responseValue, dep) => this.getResponseCell(responseValue, result, dep))}\n        {this.getResponseCell(actualPerc, result, 'total')}\n        {this.getPriorityCell(result)}\n        {this.getRecsCell(result)}\n        {this.getLinksCell(result)}\n      </tr>\n    );\n  }\n\n  getPriorityCell({ actualPerc, targetValue }) {\n    if (actualPerc && targetValue && (actualPerc >= targetValue)) {\n      return <td>N/A</td>\n    }\n\n    return (\n      <td>\n        <Form.Control as='select' custom>\n          <option></option>\n          <option>1</option>\n          <option>2</option>\n          <option>3</option>\n        </Form.Control>\n      </td>\n    )\n  }\n\n  getRecsCell({ actualPerc, targetValue, recommendations }) {\n    if (actualPerc && targetValue && (actualPerc >= targetValue)) {\n      return <td>N/A</td>;\n    }\n\n    const formatPoint = (r, i) => {\n\n      const text = r.replace(/^\\[\\d+\\]/, '');\n      const pointNumber = recommendations.length > 1 ? i+1 : null;\n      return (\n        <div className='point' key={i}>\n          <span className='point-number'>{pointNumber}</span>{text}\n        </div>\n      )\n    }\n\n    return (\n      <td className='recommendations scrollable'>\n        <div>\n          {recommendations.map((r, i) => formatPoint(r, i))}\n        </div>\n      </td>\n    )\n  }\n\n  getLinksCell({ actualPerc, targetValue, resources }) {\n\n    if (actualPerc && targetValue && (actualPerc >= targetValue)) {\n      return <td>N/A</td>;\n    }\n\n    return (\n      <td className='links'>\n        <div>{resources && resources.map(r => {\n          return (\n            <div key={r.title} className='link'>\n              <a href={r.link}>{r.title}</a>\n            </div>\n          )\n        })}</div>\n      </td>\n    )\n\n  }\n\n\n  getResponseCell(responseValue, result, dep) {\n    const isTotal = dep == 'total';\n    const isPerc = result.numerator;\n\n    const { targetValue } = result;\n    let perfClass = '';\n    let content = null;\n\n    const nearCutoff = (targetValue * this.state.nearThreshhold/100);\n\n    if (_.isNil(responseValue)) {\n      content = 'No Data';\n      perfClass = 'missing ';\n\n    } else if (isPerc || isTotal) {\n      content = Math.round(responseValue) + '%';\n      if (responseValue >= targetValue) {\n        perfClass = 'ahead ';\n      } else if (responseValue >= nearCutoff) {\n        perfClass = 'near ';\n      } else {\n        perfClass = 'behind ';\n      }\n\n    } else {\n      content = !!responseValue ? 'Yes' : 'No';\n      if (!!responseValue) {\n        perfClass = 'ahead ';\n      } else {\n        perfClass = 'behind ';\n      }\n    }\n\n    const classes = 'response-value ' + perfClass + (isTotal ? 'total' : '');\n    const title = isTotal ? 'This is the total indicator result for all assessed departments' : null;\n    return <td className={classes} title={title} key={dep}>{content}</td>\n  }\n\n  updateThreshhold(e) {\n    this.setState({ nearThreshhold: e.target.value });\n  }\n  getLegend() {\n    const threshhold = <span className='threshhold'>{this.state.nearThreshhold}%</span>;\n    return (\n      <div className='legend'>\n        <h4 className='text-center mb-2'>Legend</h4>\n        <h5><span className='example ahead'></span>Meets Target</h5>\n        <h5><span className='example near'></span>Near Target<strong>*</strong></h5>\n        <h5><span className='example behind'></span>Behind Target</h5>\n        <Form.Group >\n          <Form.Label>\n            <strong>*</strong>indicates that the value is at least {threshhold} of the target value\n          </Form.Label>\n          <Form.Control type=\"range\" custom\n            onChange={this.updateThreshhold}\n            defaultValue={this.state.nearThreshhold}\n            min={1}\n            max={99}\n          />\n          <em>(drag slider to adjust)</em>\n        </Form.Group>\n      </div>\n    )\n  }\n\n  render() {\n\n    const { section, resultSections } = this.props;\n    const defaultKey = resultSections[0].text;\n\n    return (\n      <div className='results-table'>\n        <div className='instructions'>\n        <h3>Results for the Clinical Facility, by Department</h3>\n          <div className='instruction my-2'>\n            Based on your inputs, your assessment results by indicator, recommendations to address the specific gaps identified for that indicators and where available, relevant links to further resources are provided.\n          </div>\n          <div className='instruction my-2'>\n            Colour coding of results by department is based on the legend below. You can select the threshold at which a result is considered <span className='target-ex'>Near Target</span>, and if the result is below this it will be considered <span className='target-ex'>Behind Target</span>.\n          </div>\n          {this.getLegend()}\n          <div className='instruction my-2'>\n            For each indicator, please select a priority level for the recommended action, with 1 being the highest and 3 being the lowest.\n          </div>\n\n        </div>\n        <Accordion\n          id={`${section}-result-table`}\n          defaultActiveKey={defaultKey}\n          className='mb-5'\n        >\n          {this.props.resultSections.map(rSection => {\n\n            return (\n              <Card key={rSection.text}>\n                <Card.Header>\n                    <Accordion.Toggle as={Button} variant='link' eventKey={rSection.text}>\n                      {rSection.text}\n                    </Accordion.Toggle>\n                </Card.Header>\n                <Accordion.Collapse eventKey={rSection.text}>\n                  <Card.Body>\n                    {this.getSectionTable(rSection)}\n                  </Card.Body>\n                </Accordion.Collapse>\n              </Card>\n            )\n          })}\n        </Accordion>\n\n        <div className='text-center my-5'>\n          <Button onClick={this.props.proceed}>\n            Proceed to Assessment Results Dashboard\n          </Button>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default ResultsTable;","import React from 'react';\nimport Button from 'react-bootstrap/Button';\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\nimport './App.css';\n// import findLogo from './logo_mobile.svg';\nimport findLogo from './find-logo.jpg';\nimport cdcLogo from './africa-cdc-logo.png';\nimport bdLogo from './bd-logo.png';\nimport dashboard from './dashboard.png';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport AssessmentSection from './AssessmentSection';\nimport Results from './Results';\nimport ResultsTable from './ResultsTable';\nimport sectionsMap from './sections';\nimport { getTargetId, getTableCellId } from './helperFunctions';\n\nimport _ from 'lodash'\n\n// TODO:\n// - order and prune imports\n// - transfer repos\n// - standardize \"\"\n// - doc\n// - remove DEV\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      activeTab: 'instructions',\n      warnings: [],\n      submitted: {},\n      inputsResults: null,\n    };\n\n    this.setActiveTab = this.setActiveTab.bind(this);\n    this.sendMap = this.sendMap.bind(this);\n    this.submit = this.submit.bind(this);\n  }\n\n  setActiveTab(activeTab) {\n    console.log(activeTab);\n    this.setState({ activeTab });\n  }\n\n  sendMap(section, sectionObj) {\n    this[section] = sectionObj;\n  }\n\n  processMultipartQs(qs) {\n    if (!qs) return;\n    qs.forEach(q => {\n      if (q.type === 'q') {\n        const correctAnswerGiven = !!document.querySelector(`#${q.id}:checked`);\n        q.answeredCorrectly = correctAnswerGiven;\n      }\n\n      this.processMultipartQs(q.subQs);\n      this.processMultipartQs(q.children);\n    })\n  }\n\n  submit(section) {\n    // TODO \"flat map\" this.\"section\" object may no longer be useful\n    if (section === 'facility') {\n\n      this.processMultipartQs(sectionsMap['facility'].questions);\n\n      const { submitted } = this.state;\n      this.setState({ \n        submitted: {...submitted, [section]: true },\n        warnings: []\n      });\n\n    } else if (section === 'inputs') {\n\n      // process inputs sections\n      const inputSectionObj = this['inputs'];\n      const { results: inputResultSections } = sectionsMap['inputs'];\n\n      inputSectionObj.questions.forEach(q => {\n        // add responses\n        q.responses = {};\n\n        inputSectionObj.departments.forEach(d => {\n          const uid = getTableCellId(d, q);\n          if (q.subType === 'y_n') {\n            const correctAnswerGiven = !!document.querySelector(`#${uid}:checked`);\n            q.responses[d.id] = correctAnswerGiven;\n\n          } else if (q.subType === '%') {\n            const el = document.querySelector(`#${uid}`);\n            let val = el.value ? Number(el.value) : null;\n            q.responses[d.id] = val;\n          }\n        });\n\n      })\n\n      inputResultSections.forEach(rSect => {\n        rSect.results.forEach(r => {\n          const { target, question, numerator, denominator } = r;\n          if (!target) {\n            console.error('Cannot calculate result without target: ', r);\n          }\n          // _.get\n          r.targetValue = inputSectionObj.targetData[target.sectionId][target.id];\n          // r.responseData = {};\n\n          if (question) {\n\n            r.responseData = r.question.responses;\n            let answered = 0;\n            let yeses = 0;\n            _.each(r.responseData, resp => {\n              if (!_.isNil(resp)) {\n                answered++;\n              }\n              if (!!resp) {\n                yeses++;\n              }\n            });\n\n            r.actualPerc = !answered ? '?' : (yeses/answered) * 100;\n\n          } else if (numerator && denominator) { // it's a % type result\n\n            r.responseData = {};\n            let totalNum = 0;\n            let totalDenom = 0;\n            _.each(r.numerator.responses, (numV, dept) => {\n              let perc = null;\n              const denomV = _.get(r, ['denominator', 'responses', dept]);\n              if (_.isNil(numV) || _.isNil(denomV)) {\n                console.warn('Empty num or denom val');\n                // _.set(r.responseData, dept, '?');\n                // leave null\n              } else {\n                totalNum += numV;\n                totalDenom += denomV;\n                perc = (numV / denomV) * 100;\n              }\n\n              _.set(r.responseData, dept, perc);\n            });\n\n            r.actualPerc = !totalDenom ? null : (totalNum / totalDenom) * 100\n\n          } else {\n            console.error('Cannot calculate result without a linked question or num/denom: ', r);\n          }\n        })\n      });\n\n\n      const { submitted } = this.state;\n      this.setState({ \n        submitted: {...submitted, [section]: true },\n        inputsResults: inputResultSections,\n        warnings: []\n      });\n      \n    }\n\n  }\n\n  getLandingTab() {\n    // return null\n    return (\n      <div className=\"landing-page mb-4\">\n        <div className=\"logos\">\n          <img className=\"logo find\" src={findLogo} />\n          <img className=\"logo cdc\" src={cdcLogo} />\n          <img className=\"logo bd\" src={bdLogo} />\n        </div>\n\n        <div className=\"instructions my-3\">\n          <div className=\"my-3\">\n            This Antimicrobial Resistance (AMR) Continuous Quality Improvement (CQI) Assessment Tool provides users a framework to assess clinical facilities and laboratories in order to identify gaps within the Patient Diagnostic Pathway. This tool uses the AMR standards as measurants and provides a prioritized set of recommended actions to address the identified gaps.\n          </div>\n\n          <div className=\"my-3\">\n            There are three types of sections that are assessed in this tool:\n            <ul>\n              <li>Clinical Facility Level - applies to the whole clinical facility</li>\n              <li>Clinical Facility, by Department - applies to the individual Department inputs at the Clinical Facility. A minimum of one department’s data is required, with a maximum of 8.</li>\n              <li>Laboratory - applies to the relevant laboratory used for AMR diagnostic services by the Clinical Facility </li>\n            </ul>\n          </div>\n\n          <div className=\"my-3\">\n            This tool is organized into the following components and is based on the Patient Diagnostic Pathway.\n            <ul>\n              <li>Clinical Facility Level - includes indicators that apply to the whole clinical facility </li>\n              <li>A. Appropriate Diagnostic Test Order (Clinical Facility, by Department) </li>\n              <li>B1. Sample Collection - Faeces (Clinical Facility, by Department)</li>\n              <li>B2. Sample Collection - Urine (Clinical Facility, by Department)</li>\n              <li>B3. Sample Collection - Blood (Clinical Facility, by Department)</li>\n              <li>C. Sample Sent to Lab (Clinical Facility, by Department)</li>\n              <li>D. Sample Received at Lab (Laboratory)</li>\n              <li>E. Sample Received at Lab (Laboratory)</li>\n              <li>F. Test Result Reported (Laboratory)</li>\n              <li>G. Use Test Result (Clinical Facility, by Department)</li>\n            </ul>\n          </div>\n\n          <div className=\"my-3\">\n            Using the list of prioritized gaps and recommended actions, the clinical facility and laboratory can devise and implement a plan. Suggested resources are included to support this. \n          </div>\n\n          <em className=\"note my-3\">\n            Note: This is an online prototype and includes only sections Clinical Facility, A. Appropriate Diagnosis and B1-B3. Sample Collection (Faeces, Urine, Blood). \n          </em>\n\n          <div className='text-center my-5'>\n            <Button onClick={() => this.setActiveTab('facility')}>\n              Proceed to Assessment\n            </Button>\n          </div>\n\n        </div>\n      </div>\n    )\n  }\n\n  getFacilityTab() {\n    if (this.state.submitted['facility']) {\n      return <Results section='facility' proceed={()=>this.setActiveTab('inputs')} />;\n    }\n    return (\n      <AssessmentSection\n        submit={this.submit}\n        sendMap={this.sendMap}\n        section='facility'\n      />\n    )\n  }\n\n\n  getInputsTab() {\n    if (this.state.submitted['inputs']) {\n      return (\n        <ResultsTable \n          resultSections={this.state.inputsResults}\n          section='inputs'\n          proceed={()=>this.setActiveTab('dashboard')}\n        />);\n    }\n    return (\n      <AssessmentSection\n        submit={this.submit}\n        sendMap={this.sendMap}\n        section='inputs'\n      />\n    )\n  }\n\n  getDashboardTab() {\n    return (\n      <div className='text-center m-5'>\n        <h5>Now that all sections have been submitted, your ranked priorities and summary graphics will appear here.</h5>\n        <img src={dashboard} />\n      </div>\n    )\n  }\n\n  render() {\n    const { facility, inputs } = this.state.submitted;\n    let facilityTitle = 'Clinical Facility Level';\n    let inputsTitle = 'Clinical Facility, by Department';\n    if (facility) {\n      facilityTitle += ' [RESULTS]';\n    }\n    if (inputs) {\n      inputsTitle += ' [RESULTS]';\n    }\n\n    console.log('r: ', this.state.activeTab);\n    return (\n      <div className='App'>\n        <div className='site-title text-center my-4'>\n\n        <h3>AMR Continuous Quality Improvement (CQI)</h3>\n        <h4> Assessment Tool for Clinical Facilities & Laboratories</h4>\n        <h6>v0.7 (June 2020)</h6>\n        </div>\n        <Tabs id=\"controlled-tab-example\"\n          activeKey={this.state.activeTab}\n          onSelect={this.setActiveTab}\n        >\n          <Tab eventKey='instructions' title='Instructions'>\n            {this.getLandingTab()}\n          </Tab>\n          <Tab eventKey='facility' title={facilityTitle}>\n            {this.getFacilityTab()}\n          </Tab>\n          <Tab eventKey='inputs' title={inputsTitle}>\n            {this.getInputsTab()}\n          </Tab>\n          <Tab eventKey='dashboard' title='Dashboard' disabled={!facility || !inputs}>\n            {this.getDashboardTab()}\n          </Tab>\n        </Tabs>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}